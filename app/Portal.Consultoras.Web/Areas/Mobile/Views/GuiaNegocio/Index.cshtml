@using Portal.Consultoras.Common

@model Portal.Consultoras.Web.Models.RevistaDigitalLandingModel
@{
    ViewBag.Title = "Guía de Negocio Digitalizada";
    Layout = "~/Areas/Mobile/Views/Shared/_MobileLayoutContenedor.cshtml";
    var nameTagScrollTo = "divTopFiltros" + @Model.CampaniaID;
    var idBorrar = "borrar" + Model.CampaniaID;
}

@section styles{
    @System.Web.Optimization.Styles.Render("~/bundles/css/Mobile/Site/GuiaNegocio-Landing")
    <style>
        .slct-box-filtro-mobile {
            height: 40px;
            color: black;
            font-family: 'Lato';
            padding-left: 7px;
            font-size: 12px;
            border: 1px solid rgba(0, 0, 0, .21);
            float: left;
            margin-left: 1%;
            margin-right: 1%;
        }

        #btn_init {
            display: none !important;
        }

        #btn_open {
            display: none !important;
        }
    </style>
}

<div data-listado-campania="@Model.CampaniaID">
    <div data-listado-content="" style="display: none;">
        <div>
            <div class="subtitulo_landing" style="display: none;">CLUB GANA+</div>
            <hr class="clear" />
            <div class="wrapper_resumen_mobile" id="@nameTagScrollTo">
                <div id="orderby-filter" style="display: block;">
                    <div id="content-orderby" style="margin: 15px 0; text-align: center;">
                        <div id="divFiltros">
                            <select class="btn3-ffc slct-box-filtro-mobile" data-filtro-tipo="fijo" data-filtro-campo="marca" style="width:40%;">
                                @foreach (var item in Model.FiltersByBrand)
                                {
                                    <option value="@item.Codigo">@item.Descripcion</option>
                                }
                            </select>
                            <select class="btn3-ffc slct-box-filtro-mobile" data-filtro-tipo="fijo" data-filtro-campo="precio" data-filtro-accion="orden" style="width:56%;">
                                @foreach (var item in Model.FiltersBySorting)
                                {
                                    <option value="@item.Codigo">@item.Descripcion</option>
                                }
                            </select>
                            <div style="clear:both;"></div>
                        </div>
                    </div>
                    <hr class="clear">
                    <div id="summary-filters">
                        <div id="div-result-number" style="margin-left: 0; float: left; width: 65%; font-size: 13px;">
                            <span id="result-number">Mostrando <span id="spnCantidadFiltro"></span> de <span id="spnCantidadTotal"></span></span>
                        </div>

                        <div id="div-delete-filters" style="display: none; margin-right: 0px;">
                            <a href="javascript:;" class="link-ffc_landing" data-filtro-tipo="borrar">Borrar Filtros</a>
                        </div>
                        <br><br>
                    </div>
                </div>
            </div>
        </div>
        <hr class="clear" />
        <div>
            <hr class="clear" />
            <div class="wrapper_resumen_mobile ">
                <div id="divOfertaProductos" data-OrigenPedidoWeb="@Constantes.OrigenPedidoWeb.GNDMobileLanding"
                     data-content-item="@Model.CampaniaID"
                     class="ofertaProductoslanding flex-container"
                     style="display: inline-flex;flex-wrap: wrap;justify-content: center;"></div>
                <div id="no-productos" class="seccion-no-productos">
                    Próximamente encontrarás aquí las mejores ofertas que te harán ganar más y obtener más ingresos.<br />
                    ¡Vuelve pronto!
                </div>

                <hr class="clear" />
            </div>
        </div>
    </div>
    <hr class="clear" />
    <div id="divOfertaProductosLoad" style="display: none;">Cargando Productos<br></div>
    <hr class="clear" />
</div>
<!--Fin seccion landing-->
<hr class="clear" />

@Html.Partial("~/Areas/Mobile/Views/EstrategiaPersonalizada/template-producto-landing.cshtml")

@Html.Partial("~/Areas/Mobile/Views/GuiaNegocio/_GuiaNegocioFlotante.cshtml")

@section scripts{
    <script type="text/javascript">
        var urlLoad = '@Url.Content("~/Content/Images/loading_spinner.gif")';
        var urlOfertaCargarProductos = '@Url.Action("GNDObtenerProductos", "GuiaNegocio", new { area = ""})';
        var origenPedidoWebEstrategia = '@Constantes.OrigenPedidoWeb.GNDMobileLanding';
        var urlOfertaDetalleProductoTem = '@Url.Action("GuardarProductoTemporal", "RevistaDigital", new { area = "" })';

        var tipoOrigenEstrategia = 2;
        var CantidadFilas = @Model.CantidadFilas;
        var mayormenor = '@Constantes.ShowRoomTipoOrdenamiento.ValorPrecio.MayorAMenor';
        var menormayor = '@Constantes.ShowRoomTipoOrdenamiento.ValorPrecio.MenorAMayor';
        var lsListaRD = "GNDLista";
        var campaniaId = @Model.CampaniaID;
        var defaultImageRevista = '@Url.Content("~/Content/Images/revista_no_disponible.jpg")';
        var urlObtenerPortadaRevista = '@Url.Action("ObtenerPortadaRevista", "Catalogo", new { area = "Mobile" })';
        var RevistaCodigoIssuu = {
            '@Model.CampaniaID': '@ViewBag.CodigoRevistaActual'
        };

    </script>
    @System.Web.Optimization.Scripts.Render("~/bundles/Mobile/GuiaNegocio-Landing")
}