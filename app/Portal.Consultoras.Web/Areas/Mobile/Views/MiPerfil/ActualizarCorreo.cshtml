@using Portal.Consultoras.Web.CustomHelpers
@using Portal.Consultoras.Common;

@{
    ViewBag.Title = "Actualizar Correo";
    Layout = "~/Areas/Mobile/Views/Shared/_MobileLayout.cshtml";
}

@if (System.Configuration.ConfigurationManager.AppSettings.Get("PaisesEsika").Contains(ViewBag.PaisAnalytics == null ? "" : ViewBag.PaisAnalytics))
{
    <link rel="stylesheet" href="@Url.Content("~/Content/Css/Mobile/esika/mi-perfil.css")">
}
else
{
    <link rel="stylesheet" href="@Url.Content("~/Content/Css/Mobile/lbel/mi-perfil.css")">
}

<style>
    .footer-page {
        display: none;
    }
</style>

<!-- TÍTULO -->
<div class="titulo_mobile" style="display:none;">
    @{ var mobileConfiguracion = Html.MobileAppConfiguracion();
        if (mobileConfiguracion.MostrarBotonAtras)
        {
            <a href="@Request.UrlReferrer" class="enlace_regresar catalogosR" title="Regresar"></a>
        }
    }
    &nbsp;&nbsp;&nbsp;&nbsp;CAMBIA TU CORREO
</div>
<div class="pestana_esika"></div>
<div class="pestana_lbel"></div>
<!-- FIN - TÍTULO -->

<div class="content_belcorp">
    <section class="vista_actualizar_correo">
        <div class="wrapper_content_actualizar_correo">
            <div id="tabVistas">
                <a href="#" class="d-block enlace_volver_a_mi_perfil enlace_volver_a_mi_perfil--vistaActualizarCorreo" title="Volver">
                    <span class="d-inline-block enlace_volver_a_mi_perfil_icono">
                        <img src="@Url.Content("~/Content/Images/icono_enlace_volver.svg")" alt="Volver" />
                    </span>
                    <span class="d-inline-block text-bold enlace_volver_a_mi_perfil_texto">
                        Volver
                    </span>
                </a>
                <div vista-id="1" class="form_actualizar_correo" style="display: none;">
                    <div class="grupo_form_cambio_datos grupo_form_cambio_datos--vistaActualizacionCorreo">
                        <div class="w-100">
                            <input id="NuevoCorreo" name="NuevoCorreo" class="w-100" type="text" value="" />
                            <label for="NuevoCorreo" class="w-100">Correo electrónico</label>
                        </div>
                    </div>
                    <div class="grupo_input_actualizarMisDatos campos_actualizarDatos terminos_y_condiciones_wrapper pt-31">
                        <div class="checkbox_condiciones_wrapper w-100">
                            <div class="checkbox_condiciones_descripcion">
                                <span class="asterisco_actualizar_datos">(*)&nbsp;</span>
                                Estoy de acuerdo con los <span><a href="javascript:;" id="hrefTerminosMD" target="_blank">términos y condiciones</a></span> sobre Protección de datos personales
                            </div>
                            <div class="grupo_form_checkbox_condiciones">
                                <input class="checkbox_condiciones_checkbox" type="checkbox" name="chkAceptoContratoMD" id="chkAceptoContratoMD" />
                                <label for="chkAceptoContratoMD" class="checkbox_condiciones_label"></label>
                            </div>
                        </div>
                    </div>
                    <button id="btnActualizarCorreo" type="button" class="w-100 border-radius-4 text-bold btn_deshabilitado btn_primario btn_primario--miPerfil">
                        Guardar
                    </button>
                </div>
                <div vista-id="2" class="revisa_tu_correo text-center" style="display:none;">
                    <div class="center-block icono_success icono_success--miPerfil">
                        <img class="d-block" src="@Url.Content("~/Content/Images/success_icon.svg")" alt="¡El cambio de correo fue exitoso!" />
                    </div>
                    <h6 class="center-block text-bold text-center mensaje_success mensaje_success--miPerfil">
                        ¡El cambio de<br />correo fue exitoso!
                    </h6>
                </div>
            </div>
        </div>
    </section>
</div>

<input type="hidden" id="hdn_enlaceTerminosCondiciones" value="@ViewBag.UrlPdfTerminosyCondiciones" />

@section scripts{
    <script type="text/javascript" src="@Url.Content("~/Scripts/PortalConsultoras/MiPerfil/Base.js")?v=3"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/PortalConsultoras/MiPerfil/ActualizarCorreo.js")"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            new MiPerfil_ActualizarCorreo({
                UrlPaginaPrevia: '@Url.Action("Index", "MiPerfil", new { area = "Mobile" })',
                UrlActualizarEnviarCorreo: '@Url.Action("ActualizarEnviarCorreo", "MiPerfil", new { area = "" })',
                MensajeError: '@Html.Raw(Constantes.MensajesError.ActivacionCorreo)',
                MensajeReenvioExitoso: '@Html.Raw(Constantes.MensajesExito.UpdCorreoConsultora_Reenvio)'
            }).Inicializar();
        });

        var inputEmail = document.getElementById("NuevoCorreo");
        FuncionesGenerales.AutoCompletarEmailAPartirDeArroba(inputEmail);
    </script>
}
