@using Portal.Consultoras.Web.Areas.Mobile.Models
@using System.Globalization
@model NotificacionesMobileModel
@{
    Layout = "~/Areas/Mobile/Views/Shared/_MobileLayout.cshtml";
}

@section styles{
    <style type="text/css">
        body {
            background: #FFF !important;
        }
    </style>
}
<div class="titulo_mobile">
    <a href="#" class="enlace_regresar catalogosR" title="Regresar">
        @*<img src="@Url.Content("~/Content/images/flecha_volver_mobile_blanca.svg")" alt="Regresar" />*@
    </a>
    &nbsp;&nbsp;&nbsp;&nbsp;MIS NOTIFICACIONES
</div>
<div class="pestana_esika"></div><!--PESTANA ESIKA-->
<div class="pestana_lbel"></div><!--PESTANA LBEL-->


   
        
            <div class="col-xs-12">
                <ul class="list-notificaciones noti-detalle">
                    <li>
                        
                        <div class="text-noti">
                            <div class="sub_titulo_noti">
                                <span>@Model.Asunto</span>
                                <span>CAMPAÑA @Model.Campania.ToString().Substring(4) @Model.Campania.ToString().Substring(0, 4)</span>

                            </div>
                            <span>@Model.FechaFacturacion</span>
                        </div>
                    </li>
                </ul>
            </div>       


<br />


    <div class="col-xs-12 notificaciones_detalle_mobile">
        <p class="consultora_saludo_noti"><b>Hola  @Model.NombreConsultora</b></p>
        <input type="hidden" id="estadoValue" value="@Model.estado" />
        <input type="hidden" id="fechafacturacion" value="@Model.FechaFacturacion" />
        <input type="hidden" id="fechaFacturacionDia" value="@Model.FechaFacturacion.Day" />
        <input type="hidden" id="fechaFacturacionMes" value="@Model.FechaFacturacion.Month" />
        <input type="hidden" id="observaciones" value="@Model.Observaciones" />

        <p id="sFelicitaciones"></p>
        <span id="sMensajePedidoPROL"></span>
        <br />
        <br />
        @if (Model.ListaNotificacionesDetalle.Count != 0)
        {
            <ul style='padding: 0px 0px 0px 15px; margin-top: 0px; text-align: left;'>
                @foreach (var item in Model.ListaNotificacionesDetalle)
                {
                    <li>
                        @Html.DisplayTextFor(modelItem => item.MensajePROL)
                    </li>
                }
            </ul>
        }
        <span id="sMensajeFacturacion"></span>
        <h3 class="title-line">Detalle</h3>
        <div class="detalle_notificaciones">
            <div class="left_reservado" style="width:235px;">
                <div class="datos_Reservado">
                    <span> 00411 </span>
                    <span>CY BERRYLICIOUS  SHAMPOO ROJO 375 ML</span>
                </div>               
            </div>
            <div class="right_reservado">
                <div class="texto_reservado">CANT</div>
                <div class="datos_Reservado"><b>1</b></div>
            </div>
            <hr class="clear" /><br />
            <div class="left_reservado">
                <div class="texto_reservado">
                    <span>Precio Unitario</span>
                </div>
                <div class="importe_reservado">SUBTOTAL</div>
            </div>
            <div class="right_reservado">
                <div class="texto_reservado">
                    <span>S/. 14.90</span>
                </div>
                <div class="importe_reservado">S/. 14.90</div>
            </div>
        </div>
        <hr class="clear" />
        <div class="left_reservado">
            <div class="importe_final">                
                <b>MONTO TOTAL</b>
            </div>
            
        </div>
        <div class="right_reservado">
            <div class="importe_final" style="font-size:15px"><b>S/.  313.000.00</b></div>            
        </div>
        <hr class="clear" />
        <p class="firma_notificaciones">
            
                Gracias,
                <br />
                Equipo de Belcorp.
            
        </p>
        <br />
    </div>


@section scripts
{
    <script type="text/javascript">

        $(document).ready(function () {
            var estado = $('#estadoValue').val();
            var Observaciones = $('#observaciones').val();
            var FacturaHoy = $('#fechafacturacion').val();
            var DiaFact = $('#fechaFacturacionDia').val();
            var MesFact = $('#fechaFacturacionMes').val();

            switch (estado) {
                case "2":
                    $('#sMensajePedidoPROL').html(Observaciones);
                    $('#sMensajeFacturacion').html('Añade más productos a tu pedido y no pierdas la oportunidad de seguir ganando.');
                    break;
                case "3":
                    $('#sMensajePedidoPROL').html(Observaciones);
                    $('#sMensajeFacturacion').html('Añade más productos a tu pedido y no pierdas la oportunidad de seguir ganando.');
                    break;
                case "4":
                    $('#sFelicitaciones').html('¡Felicitaciones!');
                    $('#sMensajePedidoPROL').html(Observaciones);
                    var Mensaje = "Será enviado " + DescripcionFacturacion(FacturaHoy, DiaFact, MesFact) + ", siempre y cuando cumplas con el monto mínimo y no tengas deuda.";
                    $('#sMensajeFacturacion').html(Mensaje);
                    break;
                case "5":
                    $('#sFelicitaciones').html('¡Felicitaciones!');
                    $('#sMensajePedidoPROL').html(Observaciones);
                    var Mensaje = "Tu pedido será enviado " + DescripcionFacturacion(FacturaHoy, DiaFact, MesFact) + ", siempre y cuando cumplas con el monto mínimo y no tengas deuda.";
                    $('#sMensajeFacturacion').html(Mensaje);
                    break;
            }
        });

        function DescripcionFacturacion(FacturaHoy, DiaFact, MesFact) {

            var FacturaHoy = $('#fechafacturacion').val();
            var DiaFact = $('#fechaFacturacionDia').val();
            var MesFact = $('#fechaFacturacionMes').val();

            if (FacturaHoy == 'true') {
                Result = "el día de hoy";
            }
            else {
                var Meses = new Array();
                Meses[1] = "Enero";
                Meses[2] = "Febrero";
                Meses[3] = "Marzo";
                Meses[4] = "Abril";
                Meses[5] = "Mayo";
                Meses[6] = "Junio";
                Meses[7] = "Julio";
                Meses[8] = "Agosto";
                Meses[9] = "Setiembre";
                Meses[10] = "Octubre";
                Meses[11] = "Noviembre";
                Meses[12] = "Diciembre";
                var Mes = Meses[MesFact];
                Result = "el día " + DiaFact + " de " + Mes;
            }

            return Result;
        }
    </script>
}