@using Portal.Consultoras.Common
@using Portal.Consultoras.Web.Models
@using Portal.Consultoras.Web.Models.Layout


@{
    var menuList = (List<ConfiguracionPaisModel>)ViewBag.MenuContenedor ?? new List<ConfiguracionPaisModel>();
    //var listaNegra = menuList.Where(p => p.IsMenuCampania).ToList() ?? new List<Portal.Consultoras.Web.Models.Layout.MenuContenedorModel>();
    //var listaPloma = menuList.Where(p => p.IsMenuCampania == false).ToList() ?? new List<Portal.Consultoras.Web.Models.Layout.MenuContenedorModel>();
    var menuActivo = (MenuContenedorModel)ViewBag.MenuContenedorActivo ?? new MenuContenedorModel();
    menuActivo.ConfiguracionPais.MobileFondoBanner = Util.Trim(menuActivo.ConfiguracionPais.MobileFondoBanner);
    var estiloFondoBanner = menuActivo.ConfiguracionPais.MobileFondoBanner != "" ? "style=background:url(" + menuActivo.ConfiguracionPais.MobileFondoBanner + ");" : "";

    var classMenuX = menuActivo.CampaniaId == menuActivo.CampaniaX0 ? "desplegable activo" : "desplegable";
    var classMenuX1 = menuActivo.CampaniaId == menuActivo.CampaniaX1 ? "desplegable activo" : "desplegable";
    var classMenuInfo = menuActivo.Codigo == Constantes.ConfiguracionPais.Informacion ? "desplegable activo" : "desplegable";
}
<div class="bc_mobil_para-mi" @estiloFondoBanner>
    @if (menuActivo.ConfiguracionPais.MobileFondoBanner != "")
    {
        <div class="bc_mobile-logo" style="background: url(@menuActivo.ConfiguracionPais.MobileLogoBanner);"></div>
    }
    <div class="bc_mobile-texto">
        @if (menuActivo.ConfiguracionPais.MobileTituloBanner != "" || menuActivo.ConfiguracionPais.MobileTituloBanner != "")
        {
            <div class="mobile-txt">
                @if (menuActivo.ConfiguracionPais.MobileTituloBanner != "")
                {
                    <p>@menuActivo.ConfiguracionPais.MobileTituloBanner</p>
                }
                @if (menuActivo.ConfiguracionPais.MobileSubTituloBanner != "")
                {
                    <span>@menuActivo.ConfiguracionPais.MobileSubTituloBanner</span>
                }
            </div>
        }
    </div>
    <div class="clear"></div>
    <div class="bc_para_ti-menu" data-layout-menu1="">
        @if (menuActivo.CampaniaX0 > 0)
        {
            <ul>
                <li data-campania="@menuActivo.CampaniaX0">
                    <a href="javascript:;" class="desplegable">
                        <img src="@Url.Content("~/Content/Images/carrito.png")" alt="" class="default"><img src="@Url.Content("~/Content/Images/fill-1.svg")" alt="" class="hover menuactivo">
                        <span>COMPRAR C-@(menuActivo.CampaniaX0 % 100)</span>
                    </a>
                </li><li data-campania="@menuActivo.CampaniaX1">
                    <a href="javascript:;" class="desplegable">
                        <img src="@Url.Content("~/Content/Images/ojos.svg")" alt="" class="default"><img src="@Url.Content("~/Content/Images/ojos_negro.svg")" alt="" class="hover">
                        <span>REVISAR C-@(menuActivo.CampaniaX1 % 100)</span>
                    </a>
                </li><li data-campania="0" data-url="RevistaDigital/Informacion">
                    <a href="javascript:;" class="desplegable">
                        <span>SABER MÁS DE ÉSIKA PARA MÍ</span>
                    </a>
                </li>
            </ul>
        }
    </div>
</div>
<div data-layout-menu2="">
    @if (menuList.Any())
    {
        <div class="bc_para_ti-menu-opciones">
            <ul>
                @foreach (var menuhijo in menuList)
                {
                    var claseActivo = "";
                    claseActivo = menuhijo.Codigo == menuActivo.Codigo ? "activo" : "";
                    <li data-campania="@menuhijo.CampaniaId" data-activo="1"
                        data-codigo="@menuhijo.Codigo"
                        data-es-ancla="@menuhijo.EsAncla"
                        onclick="MenuContenedorClick(event, '@menuhijo.UrlMenu')">
                        <a href="javascript:;" class="@claseActivo">
                            <span>@menuhijo.Descripcion</span>
                            <p>@menuhijo.DesktopTituloMenu</p>
                        </a>
                    </li>
                }
            </ul>
        </div>
    }
</div>
