@using Portal.Consultoras.Common
@using Portal.Consultoras.Web.Helpers
@model Portal.Consultoras.Web.Models.DetalleEstrategiaFichaModel

@{
    ViewBag.Title = "Ficha-Mobile";
    Model.CodigoVideo = "Ajoq2mlOliw";
    Layout = "~/Areas/Mobile/Views/Shared/_MobileLayoutContenedor.cshtml";
}

@section styles{
    <link href="@Url.Content("~/Content/Css/Mobile/Ficha/ficha.css")" rel="stylesheet" />
}

    <div class="container" data-item="" data-tag-html="@Model.Campania" data-OrigenPedidoWeb="@Model.Origen">
        <div class="row">
            <div class="col-md-12">
                <ul class="breadcumbs">
                    <li><a href="">Inicio</a></li>
                    <li><a href="">Club Gana+</a></li>
                    <li><a href="">Ofertas para tí</a></li>
                    <li><a href="">Nuevo</a></li>
                </ul>
            </div>
        </div>

        <div style="display:none;"><div data-estrategia="@Json.Encode(Model)"></div></div>

        <div id="seccion_ficha_handlebars" data-OrigenPedidoWeb="@Model.Origen"></div>
        <script id="detalle_ficha_template" type="text/x-handlebars-template">
            <div class="row bg_imagen_producto" style='background: url(""); background-color: #efefef !important;'
                 data-estadoregistro="">
            </div>

            <div class="row imagen_producto bg_imagen_producto_subir">
                <div class="col-md-12">
                    <img src="{{FotoProducto01}}" />    
                </div>
            </div>
            <div class="row label_producto">
                <div class="col-md-12">
                    <img src="img/label.jpg" alt="">
                </div>
            </div>
            <div class="row marca_producto">
                <div class="col-md-12">
                    <h2>{{DescripcionMarca}}</h2>
                </div>
            </div>
            <div class="row descripcion_producto">
                <div class="col-md-12">
                    {{DescripcionCortada}}
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12 precio_producto">
                    <p>Valorizado en <span>{{SimboloMoneda}} {{PrecioTachado}}</span></p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-7 col-sm-7 col-xs-7 precio_producto">
                    <p>Precio para ti  <b>{{SimboloMoneda}} {{PrecioVenta}}</b></p>
                </div>
                <div class="col-md-5 col-sm-5 col-xs-5 gana_precio_producto">
                    <p>GANA {{SimboloMoneda}} {{GananciaString}}</p>
                </div>
            </div>


            <div class="row seleccion_tonos">
               
                <div data-estrategia="{{CodigoVariante}}">

                    {{#iff CodigoVariante '==' '2001'}}
                    {{#each this.Hermanos as |componente|}}
                    <div class="content_tonos_producto" data-tono="" data-tono-select="{{CUVSelect}}" data-tono-digitable="1">
                        <div class="tono_select_opt">
                            <div class="content_tono_elegido texto_sin_tono" data-tono-change="1">
                                <div class="tono_seleccionado" style="display:none;"><img src="~/Content/Images/showroom/no_disponible.png" /></div>
                                <div class="texto_tono_seleccionado">ELIGE  TU TONO</div>
                                <hr class="clear" />
                            </div>
                            <div class="content_tonos_select" style="display:none;" data-tono-select-area="1">
                                {{#each this.Detalle as |variedad|}}
                                <div class="content_tono_elegido" data-tono-change="2"
                                     data-tono-cuv="{{variedad.Cuv}}" d
                                     ata-tono-nombre="{{variedad.NombreBulk}}"
                                     data-tono-descripcion="{{variedad.NombreComercial}}">
                                    <div class="tono_seleccionado"><img src="{{variedad.ImagenBulk}}" alt=""></div>
                                    <div class="texto_tono_seleccionado">{{variedad.NombreBulk}}</div>
                                    <hr class="clear" />
                                </div>
                                {{/each}}
                            </div>
                        </div>
                        <hr class="clear">
                        <div data-tono-div="">
                            {{#each this.Detalle as |variedad|}}
                            <div style="display: none;">
                                <input type="hidden" name="nameMarcaID" id="Estrategia_hd_MarcaID" value="{{variedad.MarcaID}}" />
                                <input type="hidden" name="namePrecioCatalogo" id="Estrategia_hd_PrecioCatalogo" value="{{variedad.PrecioCatalogo}}" />
                            </div>
                            <div class="content_tono_detalle" d
                                 ata-tono-cuv="{{variedad.Cuv}}"
                                 data-tono-change="2"
                                 data-tono-nombre="{{variedad.NombreBulk}}">
                                <img src="{{variedad.ImagenBulk}}" alt="">
                            </div>
                            <div style="clear:both;"></div>
                            {{/each}}
                        </div>
                        <hr class="clear">
                    </div>
                    {{/each}}
                    {{/iff}}
                    {{#iff CodigoVariante 'ContainsArray' '[2002,2003]'}}
                    <div class="titulo_contenido">CONTENIDO</div>
                    <div class="content_producto_compuesto">
                        {{#each this.Hermanos as |componente|}}
                        <div class="" data-tono="" data-tono-select="" data-tono-digitable="{{componente.Digitable}}">
                            <div style="display: none;">
                                <input type="hidden" name="nameMarcaID" id="Estrategia_hd_MarcaID" value="{{componente.MarcaID}}" />
                                <input type="hidden" name="namePrecioCatalogo" id="Estrategia_hd_PrecioCatalogo" value="{{componente.PrecioCatalogo}}" />
                            </div>
                            <div class="nombre_producto_opt" data-tono-select-nombrecomercial="">
                                <span class="cantidad_producto_opt">x {{componente.Cantidad}}</span>
                                <span data-tono-select-nombrecomercial="">{{componente.NombreComercial}}</span>
                            </div>
                            {{#iff componente.Digitable '==' '1'}}
                            <div class="content_tonos_producto">
                                <div class="tono_select_opt">
                                    <div class="content_tono_elegido texto_sin_tono" data-tono-change="1">
                                        <div class="tono_seleccionado" style="display: none;"><img src="~/Content/Images/showroom/no_disponible.png" alt=""></div>
                                        <div class="texto_tono_seleccionado">ELIGE  TU TONO</div>
                                        <hr class="clear" />
                                    </div>
                                    <div class="content_tonos_select" style="display:none;" data-tono-select-area="1">
                                        {{#each componente.Hermanos as |variedad|}}
                                        <div class="content_tono_elegido" data-tono-change="2" 
                                             data-tono-cuv="{{variedad.Cuv}}" 
                                             data-tono-nombre="{{variedad.NombreBulk}}" 
                                             data-tono-descripcion="{{variedad.NombreComercial}}">
                                            <div class="tono_seleccionado"><img src="{{variedad.ImagenBulk}}" alt=""></div>
                                            <div class="texto_tono_seleccionado">{{variedad.NombreBulk}}</div>
                                            <hr class="clear" />
                                        </div>
                                        {{/each}}
                                    </div>
                                </div>
                                <hr class="clear">
                            </div>
                            {{/iff}}
                            <hr class="clear" />
                        </div>
                        {{/each}}
                    </div>
                    {{/iff}}
                </div>
            </div>
        </script>
    
      
        <div class="row tabs">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <ul class="tabs">
                    <li>
                        <a>DETALLE DEL PACK</a>
                        <ul>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Enim porro dolorum dolor blanditiis omnis sunt aut totam iste, aliquam provident excepturi laborum quo optio! Omnis, ab? Fuga odio eum iure?
                        </ul>
                    </li>
                    <li>
                        <a>TIP DE VENTA</a>
                        <ul>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Perferendis itaque nisi ratione sit excepturi. Porro nemo ipsam fugiat quidem accusamus, cumque temporibus atque! Voluptatum nesciunt odio consectetur eos, quibusdam sint?
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div class="row carrusel">
            <p>SET DONDE ENCUENTRAS EL PRODUCTO</p>

            <!--pegar aqui elcarrusel-->
        </div>
        <div class="row compartir_redes">
            <div class="col-md-12">
                <p>Comparte el producto con tus clientes</p>
            </div>
            <div class="col-md-12">
                <a href=""><img src="img/wsp.png" alt=""></a>
                <a href=""><img src="img/fb.png" alt=""></a>
            </div>
        </div>
    </div>
@Html.Partial("~/Areas/Mobile/Views/EstrategiaPersonalizada/template-producto-landing.cshtml", new ViewDataDictionary { { "TieneBotones", true } })

@section scripts{
    @System.Web.Optimization.Scripts.Render("~/bundles/EstrategiaAgregar")
    <script src="~/Scripts/PortalConsultoras/Shared/ConstantesModule.js" type="text/javascript"></script>
    <script src="~/Scripts/PortalConsultoras/EstrategiaPersonalizada/LocalStorage.js" type="text/javascript"></script>
    <script src="~/Scripts/PortalConsultoras/Estrategia/EstrategiaComponente.js" type="text/javascript"></script>
    <script src="~/Scripts/PortalConsultoras/DetalleEstrategia/FichaModule.js" type="text/javascript"></script>

    <script>
        window.videoKey = '@Model.CodigoVideo';

        var fichaModule;
        $(document).ready(function() {
            fichaModule = FichaModule({
                palanca: "@Model.Palanca",
                origen: "@Model.Origen",
                tieneSession: "@Model.TieneSession",
                campania: "@Model.Campania",
                cuv: "@Model.Cuv",
                urlObtenerComponentes: '@Url.Action("ObtenerComponentes", "DetalleEstrategia", new { area = "" })'
            });
            fichaModule.Inicializar();
        });

    </script>
    @System.Web.Optimization.Scripts.Render("~/bundles/Ficha")

}
