@using Portal.Consultoras.Common;
@using Portal.Consultoras.Web.Models.PagoEnLinea;
@model PagoEnLineaModel

@{
    ViewBag.Title = "Pago En Línea";
    Layout = "~/Areas/Mobile/Views/Shared/_MobileLayout.cshtml";
}

@section styles{

    <link rel="stylesheet" href="@Url.Content("~/Content/Css/Mobile/Esika/pago-en-linea.css")">

    <style type="text/css">
        .footer-page {
            display: none;
            margin-bottom: 54px;
        }

        #btn_init{
            display: none !important; 
        }

        #btn_open{
            display: none !important;
        }
    </style>

}

<div class="cabecera_vista_pago_en_linea">
    <a id="linkRegresar" href="@Request.UrlReferrer" class="enlace_regresar ajustePosicionFlecha" style="display:normal" title="Regresar"></a>
    PAGO EN LÍNEA
</div>

<div class="content_belcorp">
    <div class="pestana_lbel"></div>

    <div class="proceso_de_pago_en_linea">

        <div class="cantidad_pasos_proceso_pago">

            <span class="paso_proceso_pago_en_linea paso_activo paso_completado">1</span>
            <span class="paso_proceso_pago_en_linea paso_activo mr-0">2</span>

            <div class="linea_conectora_pasos">
                <span class="fondo_pasos_proceso_pago_avance"></span>
            </div>
        </div>

        <div class="confirmacion_pago">
            <h3 class="titulo_resumen_pago_exitoso">
                Confirma el monto final
            </h3>
            <div class="resumen_pago">
                <div class="monto_pagado">
                    <span>Monto:</span>
                    <span>@Model.Simbolo @Model.MontoDeudaString</span>
                </div>
                <div class="monto_gastos_administrativos">
                    <span>Cargo plataforma online (@Model.PorcentajeGastosAdministrativos%):</span>
                    <span>@Model.Simbolo @Model.MontoGastosAdministrativosString</span>
                </div>
                <div class="total_monto_pagado">
                    <span>Total por pagar:</span>
                    <span>@Model.Simbolo @Model.MontoDeudaConGastosString</span>
                </div>
            </div>
        </div>

        <div class="contenedor_info_pago_seguro_y_ctas" style="margin-bottom:10px;">

            <div class="info_pago_seguro_con_tarjetas">
                <div class="icono_pago_seguro">
                </div>
                <div class="texto_info_pago_seguro">
                    <span class="texto_pago_seguro solo_visa">Pago seguro a través de</span>
                </div>
                <div class="icono_marcas_tarjetas">
                    <span class="icono_marca_visa">
                        <img src="@Url.Content("~/Content/Images/logo-visa.svg")" alt="Visa" />
                    </span>
                </div>
            </div>

        </div>

        <div class="contenedor_btn_pagar_con_visa">
            <form id="formBoton" action="@Url.Action("PagoVisaResultado","PagoEnLinea")" method="post">
                <script id="javascriptBoton" src="@Model.PagoVisaModel.UrlLibreriaPagoVisa"
                        data-sessiontoken="@Model.PagoVisaModel.SessionToken"
                        data-merchantid="@Model.PagoVisaModel.MerchantId" data-merchantlogo="@Model.PagoVisaModel.MerchantLogo"
                        data-formbuttoncolor="@Model.PagoVisaModel.FormButtonColor" data-purchasenumber="@Model.PagoVisaModel.PurchaseNumber"
                        data-amount="@Model.PagoVisaModel.Amount" data-recurrence="@Model.PagoVisaModel.Recurrence"
                        data-recurrencetype="@Model.PagoVisaModel.RecurrenceType" data-recurrencefrequency="@Model.PagoVisaModel.RecurrenceFrequency"
                        data-recurrenceamount="@Model.PagoVisaModel.RecurrenceAmount"
                        data-usertoken="@Model.PagoVisaModel.TokenTarjetaGuardada"
                        data-buttonsize="LARGE"></script>
            </form>
        </div>        

    </div>

</div>

<div class="fondo_modal">
    <div class="popup_terminos_y_condiciones">
        <a href="#" class="cerrar_popup_terminos_y_condiciones" title="Cerrar">
        </a>
        <h4 class="titulo_terminos_y_condiciones">Términos y condiciones</h4>
        <p class="descripcion_terminos_y_condiciones">
            dfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas afas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas afas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas adfdsasdf sdfsd fasf as fas a.
        </p>
        <div class="aceptar_terminos_y_condiciones mb-0">
            <div class="area_activa_barra_activacion">
                <div class="barra_activacion" data-estado="0">
                    <div class="control_activacion">
                    </div>
                    <div class="tooltip_terminos_y_condiciones">
                        <span>Debes aceptar los términos y condiciones</span>
                    </div>
                </div>
            </div>
            <div class="descripcion_opcion_activacion">
                Acepta los términos y condiciones
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script type="text/javascript">
        var colorBoton = '@Model.PagoVisaModel.FormButtonColor';
        var tipoOrigenPantalla = 2;
</script>

<script src="@Url.Content("~/Scripts/PortalConsultoras/PagoEnLinea/PagoVisa.js")"></script> 
}