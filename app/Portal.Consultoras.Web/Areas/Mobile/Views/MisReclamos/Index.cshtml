@using Portal.Consultoras.Web.Areas.Mobile.Models;
@using Portal.Consultoras.Web.CustomHelpers
@model Portal.Consultoras.Web.Models.MisReclamosModel
@{
    var layout = ViewContext.MobileLayout();
    Layout = string.Format("~/Areas/Mobile/Views/Shared/{0}.cshtml", layout);
    MobileAppConfiguracionModel mobileConfiguracion = Html.MobileAppConfiguracion();
    var listaCdr = Model.ListaCDRWeb.Count > 0 ? Model.ListaCDRWeb : new List<Portal.Consultoras.Web.Models.CDRWebModel>();
}

@section styles
{
    @if (System.Configuration.ConfigurationManager.AppSettings.Get("PaisesEsika").Contains(ViewBag.PaisAnalytics))
    {
        <link href="@Url.Content("~/Content/Css/Mobile/esika/cdr.css")" rel="stylesheet" />
    }
    else
    {
        <link href="@Url.Content("~/Content/Css/Mobile/lbel/cdr.css")" rel="stylesheet" />
    }
}

@{
    if (!mobileConfiguracion.EsAppMobile)
    {
        <div class="titulo_mobile">
            <a href="@Request.UrlReferrer" class="enlace_regresar catalogosR" title="Regresar"></a>
            CAMBIOS Y DEVOLUCIONES
        </div>

        <div class="pestana_esika"></div>
        <div class="pestana_lbel"></div>
    }
}

<div class="wrapper_resumen_mobile">
    <div id="divMisReclamos" data-url="MisReclamos/GetReclamos">
    </div>
    @if (Model.ListaCDRWeb.Count > 0)
    {
        <div id="divMisReclamos" data-url="MisReclamos/GetReclamos">
            @Html.Partial("~/Areas/Mobile/Views/MisReclamos/_ListaMisReclamos.cshtml", listaCdr)
        </div>
    }
    else
    {
        <div id="VistaSinSolicitudesRegistradas">
            <div class="text-center mensaje_sin_solicitudes_registradas_wrapper">
                <div class="mensaje_sin_solicitudes_registradas_icono">
                    <img src="@Url.Content("~/Content/Images/icono_notificacion_negativa.svg")" alt="No tiene ningún cambio y devolución" />
                </div>
                <p class="tipografia_lato_bold mensaje_sin_solicitudes_registradas">
                    No tienes ningún<br />cambio y devolución
                </p>
            </div>
        </div>
    }
</div>
<div class="btn_cta_wrapper">
    <a href="@Url.Action("Reclamo","MisReclamos", new { area = "mobile", t = (Model.ListaCDRWeb.Count > 0 )? 1:0 })"
       class="text-uppercase tipografia_lato tipografia_lato_bold border-radius-4 btn_cta_cdr btn_cta_cdr--agregarSolicitud">
        Agregar cambio
    </a>
</div>

@section scripts{
    @Scripts.Render("~/Bundle/Js/Mobile/MisReclamos")
}

<script type="text/javascript">
    var mensajeGestionCdrInhabilitada = '@Html.Raw(Model.MensajeGestionCdrInhabilitada)';
    var urlReclamo = '@Url.Action("Reclamo", "MisReclamos", new { area = "Mobile" } )';
    var urlValidarCargaDetalle = '@Url.Action("ValidarCargaDetalle", "MisReclamos", new { area = "Mobile" })';
</script>

