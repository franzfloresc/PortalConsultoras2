(function(n){n.fn.customScrollbar=function(t,i){var e={skin:undefined,hScroll:!0,vScroll:!0,updateOnWindowResize:!1,animationSpeed:300,onCustomScroll:undefined,swipeSpeed:1,wheelSpeed:40,fixedThumbWidth:undefined,fixedThumbHeight:undefined,preventDefaultScroll:!1},o=function(t,i){this.$element=n(t);this.options=i;this.addScrollableClass();this.addSkinClass();this.addScrollBarComponents();this.options.vScroll&&(this.vScrollbar=new r(this,new f));this.options.hScroll&&(this.hScrollbar=new r(this,new u));this.$element.data("scrollable",this);this.initKeyboardScrolling();this.bindEvents()},r,u,f;return o.prototype={addScrollableClass:function(){this.$element.hasClass("scrollable")||(this.scrollableAdded=!0,this.$element.addClass("scrollable"))},removeScrollableClass:function(){this.scrollableAdded&&this.$element.removeClass("scrollable")},addSkinClass:function(){typeof this.options.skin!="string"||this.$element.hasClass(this.options.skin)||(this.skinClassAdded=!0,this.$element.addClass(this.options.skin))},removeSkinClass:function(){this.skinClassAdded&&this.$element.removeClass(this.options.skin)},addScrollBarComponents:function(){this.assignViewPort();this.$viewPort.length==0&&(this.$element.wrapInner('<div class="viewport" />'),this.assignViewPort(),this.viewPortAdded=!0);this.assignOverview();this.$overview.length==0&&(this.$viewPort.wrapInner('<div class="overview" />'),this.assignOverview(),this.overviewAdded=!0);this.addScrollBar("vertical","prepend");this.addScrollBar("horizontal","append")},removeScrollbarComponents:function(){this.removeScrollbar("vertical");this.removeScrollbar("horizontal");this.overviewAdded&&this.$element.unwrap();this.viewPortAdded&&this.$element.unwrap()},removeScrollbar:function(n){this[n+"ScrollbarAdded"]&&this.$element.find(".scroll-bar."+n).remove()},assignViewPort:function(){this.$viewPort=this.$element.find(".viewport")},assignOverview:function(){this.$overview=this.$viewPort.find(".overview")},addScrollBar:function(n,t){this.$element.find(".scroll-bar."+n).length==0&&(this.$element[t]("<div class='scroll-bar "+n+"'><\/div>"),this.$element.find(".scroll-bar."+n)[t]("<div class='flecha_scroll_"+n+"2'><\/di>"),this.$element.find(".scroll-bar."+n)[t]("<div class='thumb'><\/div>"),this.$element.find(".scroll-bar."+n)[t]("<div class='flecha_scroll_"+n+"1'><\/di>"),this[n+"ScrollbarAdded"]=!0)},resize:function(n){this.vScrollbar&&this.vScrollbar.resize(n);this.hScrollbar&&this.hScrollbar.resize(n)},scrollTo:function(n){this.vScrollbar&&this.vScrollbar.scrollToElement(n);this.hScrollbar&&this.hScrollbar.scrollToElement(n)},scrollToXY:function(n,t){this.scrollToX(n);this.scrollToY(t)},scrollToX:function(n){this.hScrollbar&&this.hScrollbar.scrollOverviewTo(n,!0)},scrollToY:function(n){this.vScrollbar&&this.vScrollbar.scrollOverviewTo(n,!0)},scrollByX:function(n){this.hScrollbar&&this.scrollToX(this.hScrollbar.overviewPosition()+n)},scrollByY:function(n){this.vScrollbar&&this.scrollToY(this.vScrollbar.overviewPosition()+n)},remove:function(){this.removeScrollableClass();this.removeSkinClass();this.removeScrollbarComponents();this.$element.data("scrollable",null);this.removeKeyboardScrolling();this.vScrollbar&&this.vScrollbar.remove();this.hScrollbar&&this.hScrollbar.remove()},setAnimationSpeed:function(n){this.options.animationSpeed=n},isInside:function(t,i){var f=n(t),e=n(i),r=f.offset(),u=e.offset();return r.top>=u.top&&r.left>=u.left&&r.top+f.height()<=u.top+e.height()&&r.left+f.width()<=u.left+e.width()},initKeyboardScrolling:function(){var n=this;this.elementKeydown=function(t){document.activeElement===n.$element[0]&&(n.vScrollbar&&n.vScrollbar.keyScroll(t),n.hScrollbar&&n.hScrollbar.keyScroll(t))};this.$element.attr("tabindex","-1").keydown(this.elementKeydown)},removeKeyboardScrolling:function(){this.$element.removeAttr("tabindex").unbind("keydown",this.elementKeydown)},bindEvents:function(){if(this.options.onCustomScroll)this.$element.on("customScroll",this.options.onCustomScroll)}},r=function(n,t){this.scrollable=n;this.sizing=t;this.$scrollBar=this.sizing.scrollBar(this.scrollable.$element);this.$thumb=this.$scrollBar.find(".thumb");this.setScrollPosition(0,0);this.resize();this.initMouseMoveScrolling();this.initMouseWheelScrolling();this.initTouchScrolling();this.initMouseClickScrolling();this.initWindowResize()},r.prototype={resize:function(n){this.overviewSize=this.sizing.size(this.scrollable.$overview);this.calculateViewPortSize();this.sizing.size(this.scrollable.$viewPort,this.viewPortSize);this.ratio=this.viewPortSize/this.overviewSize;this.sizing.size(this.$scrollBar,this.viewPortSize);this.thumbSize=this.calculateThumbSize();this.sizing.size(this.$thumb,this.thumbSize);this.maxThumbPosition=this.calculateMaxThumbPosition();this.maxOverviewPosition=this.calculateMaxOverviewPosition();this.enabled=this.overviewSize>this.viewPortSize;this.scrollPercent===undefined&&(this.scrollPercent=0);this.enabled?this.rescroll(n):this.setScrollPosition(0,0);this.$scrollBar.toggle(this.enabled)},calculateViewPortSize:function(){var n=this.sizing.size(this.scrollable.$element),t;n>0&&!this.maxSizeUsed?(this.viewPortSize=n,this.maxSizeUsed=!1):(t=this.sizing.maxSize(this.scrollable.$element),this.viewPortSize=Math.min(t,this.overviewSize),this.maxSizeUsed=!0)},calculateThumbSize:function(){var n=this.sizing.fixedThumbSize(this.scrollable.options),t;return t=n?n:this.ratio*this.viewPortSize,Math.max(t,this.sizing.minSize(this.$thumb))},initMouseMoveScrolling:function(){var t=this;this.$thumb.mousedown(function(n){t.enabled&&t.startMouseMoveScrolling(n)});this.documentMouseup=function(n){t.stopMouseMoveScrolling(n)};n(document).mouseup(this.documentMouseup);this.documentMousemove=function(n){t.mouseMoveScroll(n)};n(document).mousemove(this.documentMousemove);this.$thumb.click(function(n){n.stopPropagation()})},removeMouseMoveScrolling:function(){this.$thumb.unbind();n(document).unbind("mouseup",this.documentMouseup);n(document).unbind("mousemove",this.documentMousemove)},initMouseWheelScrolling:function(){var n=this;this.scrollable.$element.mousewheel(function(t,i,r,u){if(n.enabled){var f=n.mouseWheelScroll(r,u);n.stopEventConditionally(t,f)}})},removeMouseWheelScrolling:function(){this.scrollable.$element.unbind("mousewheel")},initTouchScrolling:function(){if(document.addEventListener){var n=this;this.elementTouchstart=function(t){n.enabled&&n.startTouchScrolling(t)};this.scrollable.$element[0].addEventListener("touchstart",this.elementTouchstart);this.documentTouchmove=function(t){n.touchScroll(t)};this.scrollable.$element[0].addEventListener("touchmove",this.documentTouchmove);this.elementTouchend=function(t){n.stopTouchScrolling(t)};this.scrollable.$element[0].addEventListener("touchend",this.elementTouchend)}},removeTouchScrolling:function(){document.addEventListener&&(this.scrollable.$element[0].removeEventListener("touchstart",this.elementTouchstart),document.removeEventListener("touchmove",this.documentTouchmove),this.scrollable.$element[0].removeEventListener("touchend",this.elementTouchend))},initMouseClickScrolling:function(){var n=this;this.scrollBarClick=function(t){n.mouseClickScroll(t)};this.$scrollBar.click(this.scrollBarClick)},removeMouseClickScrolling:function(){this.$scrollBar.unbind("click",this.scrollBarClick)},initWindowResize:function(){if(this.scrollable.options.updateOnWindowResize){var t=this;this.windowResize=function(){t.resize()};n(window).resize(this.windowResize)}},removeWindowResize:function(){n(window).unbind("resize",this.windowResize)},isKeyScrolling:function(n){return this.keyScrollDelta(n)!=null},keyScrollDelta:function(n){for(var t in this.sizing.scrollingKeys)if(t==n)return this.sizing.scrollingKeys[n](this.viewPortSize);return null},startMouseMoveScrolling:function(t){this.mouseMoveScrolling=!0;n("body").addClass("not-selectable");this.setUnselectable(n("body"),"on");this.setScrollEvent(t);t.preventDefault()},stopMouseMoveScrolling:function(){this.mouseMoveScrolling=!1;n("body").removeClass("not-selectable");this.setUnselectable(n("body"),null)},setUnselectable:function(n,t){n.attr("unselectable")!=t&&(n.attr("unselectable",t),n.find(":not(input)").attr("unselectable",t))},mouseMoveScroll:function(n){if(this.mouseMoveScrolling){var t=this.sizing.mouseDelta(this.scrollEvent,n);this.scrollThumbBy(t);this.setScrollEvent(n)}},startTouchScrolling:function(n){n.touches&&n.touches.length==1&&(this.setScrollEvent(n.touches[0]),this.touchScrolling=!0,n.stopPropagation())},touchScroll:function(n){if(this.touchScrolling&&n.touches&&n.touches.length==1){var i=-this.sizing.mouseDelta(this.scrollEvent,n.touches[0])*this.scrollable.options.swipeSpeed,t=this.scrollOverviewBy(i);t&&this.setScrollEvent(n.touches[0]);this.stopEventConditionally(n,t)}},stopTouchScrolling:function(n){this.touchScrolling=!1;n.stopPropagation()},mouseWheelScroll:function(n,t){var i=-this.sizing.wheelDelta(n,t)*this.scrollable.options.wheelSpeed;if(i!=0)return this.scrollOverviewBy(i)},mouseClickScroll:function(n){var t=this.viewPortSize-20;n["page"+this.sizing.scrollAxis()]<this.$thumb.offset()[this.sizing.offsetComponent()]&&(t=-t);this.scrollOverviewBy(t)},keyScroll:function(n){var t=n.which,i;this.enabled&&this.isKeyScrolling(t)&&(i=this.scrollOverviewBy(this.keyScrollDelta(t)),this.stopEventConditionally(n,i))},scrollThumbBy:function(n){var t=this.thumbPosition(),i,r;return t+=n,t=this.positionOrMax(t,this.maxThumbPosition),i=this.scrollPercent,this.scrollPercent=t/this.maxThumbPosition,i!=this.scrollPercent?(r=t*this.maxOverviewPosition/this.maxThumbPosition,this.setScrollPosition(r,t),this.triggerCustomScroll(i),!0):!1},thumbPosition:function(){return this.$thumb.position()[this.sizing.offsetComponent()]},scrollOverviewBy:function(n){var t=this.overviewPosition()+n;return this.scrollOverviewTo(t,!1)},overviewPosition:function(){return-this.scrollable.$overview.position()[this.sizing.offsetComponent()]},scrollOverviewTo:function(n,t){var i,r;return n=this.positionOrMax(n,this.maxOverviewPosition),i=this.scrollPercent,this.scrollPercent=n/this.maxOverviewPosition,i!=this.scrollPercent?(r=this.scrollPercent*this.maxThumbPosition,t?this.setScrollPositionWithAnimation(n,r):this.setScrollPosition(n,r),this.triggerCustomScroll(i),!0):!1},positionOrMax:function(n,t){return n<0?0:n>t?t:n},triggerCustomScroll:function(n){this.scrollable.$element.trigger("customScroll",{scrollAxis:this.sizing.scrollAxis(),direction:this.sizing.scrollDirection(n,this.scrollPercent),scrollPercent:this.scrollPercent*100})},rescroll:function(n){var i,t;n?(t=this.positionOrMax(this.overviewPosition(),this.maxOverviewPosition),this.scrollPercent=t/this.maxOverviewPosition,i=this.scrollPercent*this.maxThumbPosition,this.setScrollPosition(t,i)):(i=this.scrollPercent*this.maxThumbPosition,t=this.scrollPercent*this.maxOverviewPosition,this.setScrollPosition(t,i))},setScrollPosition:function(n,t){this.$thumb.css(this.sizing.offsetComponent(),t+"px");this.scrollable.$overview.css(this.sizing.offsetComponent(),-n+"px")},setScrollPositionWithAnimation:function(n,t){var i={},r={};i[this.sizing.offsetComponent()]=t+"px";this.$thumb.animate(i,this.scrollable.options.animationSpeed);r[this.sizing.offsetComponent()]=-n+"px";this.scrollable.$overview.animate(r,this.scrollable.options.animationSpeed)},calculateMaxThumbPosition:function(){return Math.max(0,this.sizing.size(this.$scrollBar)-this.thumbSize)},calculateMaxOverviewPosition:function(){return Math.max(0,this.sizing.size(this.scrollable.$overview)-this.sizing.size(this.scrollable.$viewPort))},setScrollEvent:function(n){var t="page"+this.sizing.scrollAxis();this.scrollEvent&&this.scrollEvent[t]==n[t]||(this.scrollEvent={pageX:n.pageX,pageY:n.pageY})},scrollToElement:function(t){var i=n(t);if(this.sizing.isInside(i,this.scrollable.$overview)&&!this.sizing.isInside(i,this.scrollable.$viewPort)){var r=i.offset(),u=this.scrollable.$overview.offset(),f=this.scrollable.$viewPort.offset();this.scrollOverviewTo(r[this.sizing.offsetComponent()]-u[this.sizing.offsetComponent()],!0)}},remove:function(){this.removeMouseMoveScrolling();this.removeMouseWheelScrolling();this.removeTouchScrolling();this.removeMouseClickScrolling();this.removeWindowResize()},stopEventConditionally:function(n,t){(t||this.scrollable.options.preventDefaultScroll)&&(n.preventDefault(),n.stopPropagation())}},u=function(){},u.prototype={size:function(n,t){return t?n.width(t):n.width()},minSize:function(n){return parseInt(n.css("min-width"))||0},maxSize:function(n){return parseInt(n.css("max-width"))||0},fixedThumbSize:function(n){return n.fixedThumbWidth},scrollBar:function(n){return n.find(".scroll-bar.horizontal")},mouseDelta:function(n,t){return t.pageX-n.pageX},offsetComponent:function(){return"left"},wheelDelta:function(n){return n},scrollAxis:function(){return"X"},scrollDirection:function(n,t){return n<t?"right":"left"},scrollingKeys:{37:function(){return-10},39:function(){return 10}},isInside:function(t,i){var r=n(t),u=n(i),f=r.offset(),e=u.offset();return f.left>=e.left&&f.left+r.width()<=e.left+u.width()}},f=function(){},f.prototype={size:function(n,t){return t?n.height(t):n.height()},minSize:function(n){return parseInt(n.css("min-height"))||0},maxSize:function(n){return parseInt(n.css("max-height"))||0},fixedThumbSize:function(n){return n.fixedThumbHeight},scrollBar:function(n){return n.find(".scroll-bar.vertical")},mouseDelta:function(n,t){return t.pageY-n.pageY},offsetComponent:function(){return"top"},wheelDelta:function(n,t){return t},scrollAxis:function(){return"Y"},scrollDirection:function(n,t){return n<t?"down":"up"},scrollingKeys:{38:function(){return-10},40:function(){return 10},33:function(n){return-(n-20)},34:function(n){return n-20}},isInside:function(t,i){var r=n(t),u=n(i),f=r.offset(),e=u.offset();return f.top>=e.top&&f.top+r.height()<=e.top+u.height()}},this.each(function(){if(t==undefined&&(t=e),typeof t=="string"){var r=n(this).data("scrollable");r&&r[t](i)}else if(typeof t=="object")t=n.extend(e,t),new o(n(this),t);else throw"Invalid type of options";})}})(jQuery),function(n){function r(t){var i=t||window.event,e=[].slice.call(arguments,1),r=0,f=0,u=0;return t=n.event.fix(i),t.type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),u=r,i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS&&(u=0,f=r),i.wheelDeltaY!==undefined&&(u=i.wheelDeltaY/120),i.wheelDeltaX!==undefined&&(f=i.wheelDeltaX/120),e.unshift(t,r,f,u),(n.event.dispatch||n.event.handle).apply(this,e)}var t=["DOMMouseScroll","mousewheel"],i;if(n.event.fixHooks)for(i=t.length;i;)n.event.fixHooks[t[--i]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=t.length;n;)this.addEventListener(t[--n],r,!1);else this.onmousewheel=r},teardown:function(){if(this.removeEventListener)for(var n=t.length;n;)this.removeEventListener(t[--n],r,!1);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}(jQuery);
//# sourceMappingURL=jquery.custom-scrollbar.min.js.map
