@using Portal.Consultoras.Common
@model Portal.Consultoras.Web.Models.MisCatalogosRevistasModel
@{
    ViewBag.Title = "Catálogos y Revistas";
}

<input type="hidden" id="hdPaisNombre" value="@Model.PaisNombre" />
<input type="hidden" id="hdCampaniaAnterior" value="@Model.CampaniaAnterior" />
<input type="hidden" id="hdCampaniaActual" value="@Model.CampaniaActual" />
<input type="hidden" id="hdCampaniaSiguiente" value="@Model.CampaniaSiguiente" />
<input type="hidden" id="hdrCampaniaAnterior" value="@Model.CampaniaAnterior" />
<input type="hidden" id="hdrCampaniaActual" value="@Model.CampaniaActual" />
<input type="hidden" id="hdrCampaniaSiguiente" value="@Model.CampaniaSiguiente" />

<div class="fondo_f9f9f9">
    <div class="content_belcorp">
        <div class="fondo_negro_lateral"></div>
        <div class="titulo_interiores">MIS <span>CATÁLOGOS Y REVISTAS</span></div>
    </div>
    <hr class="clear" />
    <div class="linea_separadora" style="margin-top:-1px"></div>
</div>
<div class="content_belcorp">
    <div class="pestana_lbel"></div><!--PESTAÑA PARA DARLE ESTILO CON LBEL-->
    <div class="texto_revisa_catalogos">Revisa y comparte los catálogos con tus clientes</div>

    <!-- CATALOGO -->
    <div>
        <div id="contentCatalogo">
            <div class="titulo_central" id="TextoCampania"></div>
            <span class="arrow_catalogo"><img src="@Url.Content("~/Content/Images/Esika/catalogos_arrow.png")" onclick="CatalogoMostrar(-1, this)" data-accion="a" /></span>
            <div>
                <div class="content_carrusel_catalogo" id="divCatalogo">
                </div>
            </div>
            <span class="arrow_catalogo2"><img src="@Url.Content("~/Content/Images/Esika/catalogos_arrow2.png")" onclick="CatalogoMostrar(1, this)" data-accion="s" /></span>
            <hr class="clear" />
        </div>
        
        <div id="xHtmlItemCatalogo" style="display: none;">
            <div class="tipoClase" data-cam="{campania}" data-cat="{tipoCatalogo}" data-estado="{estado}" style="display: none;">
                <div class="item1_catalogo" data-tipo="content">
                    <a class="revista" data-tipo="img" target="_blank" href="">
                        <img src="@Url.Content("~/Content/Images/catalogo_no_disponible.jpg")" />
                    </a>
                    <div data-tipo="descrip">{descripcion}</div>
                    <input id="txtUrl{tipoCatalogo}" type="hidden" value="" />
                    <a class="compartir_catalogo_facebook" data-accion="face" onclick="CompartirFacebook('{comp}', '{campania}', this)"><img src="@Url.Content("~/Content/Images/Esika/catalogo_facebook.png")" /></a>
                    <a class="compartir_catalogo_mensaje" onclick="javascript: AbrirCompartirCorreo('{tipoCatalogo}','{campania}');"><img src="@Url.Content("~/Content/Images/Esika/catalogo_mensaje.png")" /></a>
                </div>
            </div>
        </div>
    </div>
    <!-- FIN CATALOGO -->

    <div class="expoferta_revista">
       
        @if (ViewBag.TieneRDC)
        {
            if (ViewBag.EstadoSucripcionRDAnterior2 != 1 && ViewBag.EstadoSucripcionRDAnterior1 == 1)
            {
                @Html.Partial("~/Views/MisCatalogosRevistas/template-revista-slide.cshtml")
                <!-- INSCRITAS C-11 -->
                <div class="revista_content" id="contentRevistaDigital" style="position: relative;">
                    <div class="home_block_rd home_rd1 rd_catalogos">
                        <div class="rd_logo">
                            <img src="@Url.Content("~/Content/Images/RevistaDigital/esika-para-mi-blanco.svg")" height="45">
                        </div>
                        <div class="hblock_text">
                            <div class="hblock_tit">@ViewBag.NombreConsultora, YA LLEGÓ TU NUEVA REVISTA ONLINE</div>
                            <div>¿YA VISTE TUS <b>OFERTAS EN ÉSIKA PARA MÍ</b>?
                            </div>
                            <div class="btn_diagonal btn_stroke_white">
                                <a href="javascript:RedirectToLandingRD(@Constantes.OrigenPedidoWeb.RevistaDigitalDesktopCatalogoSeccion)">
                                    VER TODAS MIS OFERTAS
                                    <img class="rd_arrowright" src="@Url.Content("~/Content/Images/RevistaDigital/rd_arrowright_blanco.png")">
                                    <img class="rd_arrowright_blanco" src="@Url.Content("~/Content/Images/RevistaDigital/rd_arrowright.png")">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- FIN INSCRITAS C-11 -->
            }
            else if (ViewBag.EstadoSucripcionRDAnterior2 == 1)
            {
                <!-- INSCRITAS C-12 -->
                <div class="home_block_rd home_rd1" style="background-color: transparent; text-align: left;">
                    <div class="content_belcorp" style="background-color: black;">
                        <div class="rd_logo">
                            <img src="@Url.Content("~/Content/Images/RevistaDigital/esika-para-mi-blanco.svg")" height="70">
                        </div>
                        <div class="hblock_text" style="padding-top: 34px;">
                            <div class="hblock_tit" style="font-size: 14px;"> @ViewBag.NombreConsultora, LLEGÓ TU NUEVA REVISTA ONLINE PERSONALIZADA</div>
                            <div style="max-width: 70%; font-size: 18px;">¿YA VISTE TUS OFERTAS DE LA C-@ViewBag.NumeroCampania EN ÉSIKA PARA MÍ? </div>
                            <div class="btn_diagonal">
                                <a href="javascript:RedirectToLandingRD(@Constantes.OrigenPedidoWeb.RevistaDigitalDesktopCatalogoSeccion)">VER TODAS MIS OFERTAS
                                    <img class="rd_arrowright" src="@Url.Content("~/Content/Images/RevistaDigital/rd_arrowright.png")">
                                    <img class="rd_arrowright_blanco" src="@Url.Content("~/Content/Images/RevistaDigital/rd_arrowright_blanco.png")">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <hr class="clear" />
                <div style="height: 35px; background: #fff;"></div>
                <!-- FIN INSCRITAS C-12 -->
            }
            else
            {
                @Html.Partial("~/Views/MisCatalogosRevistas/template-revista-slide.cshtml")
                <div class="revista_content" id="contentRevistaDigital" style="position: relative;">
                    <div class="home_block_rd home_rd1 rd_catalogos">
                        <div class="rd_logo">
                            <img src="@Url.Content("~/Content/Images/RevistaDigital/esika-para-mi-blanco.svg")" height="45">
                        </div>
                        <div class="hblock_text">
                            <div class="hblock_tit"> @ViewBag.NombreConsultora, YA LLEGÓ TU NUEVA REVISTA ONLINE</div>
                            <div>¿YA VISTE TUS <b>OFERTAS EN ÉSIKA PARA MÍ</b>?
                            </div>
                            <div class="btn_diagonal btn_stroke_white">
                                <a href="javascript:RedirectToLandingRD(@Constantes.OrigenPedidoWeb.RevistaDigitalDesktopCatalogoSeccion)">VER TODAS MIS OFERTAS
                                    <img class="rd_arrowright" src="@Url.Content("~/Content/Images/RevistaDigital/rd_arrowright_blanco.png")">
                                    <img class="rd_arrowright_blanco" src="@Url.Content("~/Content/Images/RevistaDigital/rd_arrowright.png")">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        }
        else if (ViewBag.TieneRDR)
        {
            @Html.Partial("~/Views/MisCatalogosRevistas/template-revista-slide.cshtml")
            <!-- Agregar revista -->
            <div class="revista_content" id="contentRevistaDigital" style="height: 300px; position: relative;">
                <div>
                    <div style="height: 127px; top: 40px; position: relative; margin-bottom: 16px;">
                        <img src="/Content/Images/esika-para-mi-img.svg" alt="Alternate Text" style="height: 100%; float: left;"/>
                    </div>
                    <div>
                        <span style="display: block; font-size: 18px; font-weight: bold; padding-left: 0px;">TU REVISTA ONLINE PERSONALIZADA</span>
                        <span style="display: block; font-size: 15px; font-weight: bold; padding-left: 10px;">Conoce ahora tus ofertas y aumenta tus ganancias</span>
                    </div>
                    <div class="revistadigital revistaDigital_catalogosRevistas">
                        <div class="boxoffer" onclick="javascript: window.location.href = '@Url.Action("Index", "RevistaDigital")'">
                            <div class="fondo_boton"></div>
                            <span class="texto_boton">VER M&Aacute;S OFERTAS PARA M&Iacute;</span>
                        </div>
                    </div>
                </div>
            </div>
        }
        else
        {
            @Html.Partial("~/Views/MisCatalogosRevistas/template-revista-slide.cshtml")
        }

        <span id="spNroCampania" style="display: none;">@Model.CampaniaActual</span>
        <div class="titulo_central" id="numero_campania" hidden="hidden">@Model.CampaniaActual</div>

        @if (!ViewBag.EsConsultoraNueva)
        {
            <div class="revista_content" id="contenedorExpofertaMCR" style="display: none;">
                <div style="text-align: center; font-family: 'lato'; font-size: 16pt; color: black; letter-spacing: 0.25px; font-weight: 700; margin-top: 48px; margin-bottom: 28px;">EXPOFERTA C-@(Model.CampaniaActual.Substring(4, 2))</div>
                <div id="catalogoExpoferta" class="revista_carrusel"><img src="@Url.Content("~/Content/Images/Esika/expoferta_c13.png")"/>
                </div>
            </div>
        }
        <hr class="clear"/>
    </div>
</div>

<!--POP UP COMPARTIR POR CORREOS CATÁLOGOS-->
<div id="CompartirCorreo" class="CompartirCorreoPop">
    <div class="contentCompartir">
        <a class="cerrar_compartir" style="margin-right:-50px;" href="javascript:;" onclick="javascript: $('#CompartirCorreo').hide();">
            <img src="@Url.Content("~/Content/Images/cerrar_04.png")" alt=" alternate text" />
        </a>
        <div class="titulo_compartir">COMPARTIR <b>CATÁLOGO</b></div>
        <div class="Label_compartir">Agregar contacto:</div>
        <a class="mostrar_todos">Añadir todos mis contáctos (##)</a>
        <hr class="clear" />
        <!--TAG -->
        <div id="tagParent" style="border: 1px solid #c5c5c5; margin: 10px 0 20px 0; padding: 10px; padding-left: 8px; ">
            <div style="width:100%;margin:auto;">
                <textarea id="tagCorreo"></textarea>
            </div>
        </div>
        <div class="Label_compartir">Mensaje (Editable):</div>
        <textarea name="comentarios" class="text_compartir" id="comentarios" maxlength="500">
        </textarea>
        <div class="Label_compartir">Catálogos a enviar:</div>
        <hr class="clear" />
        <div id="divCheckbox">
            <!--CHECBOX1-->
            <div data-cat="Esika">
                <div class="content_checkbox">
                    <input class="inputradio" type="checkbox">
                    <span class="inputfalso"></span>
                </div>
                <div class="check_label">Ésika</div>
            </div>
            <!--CHECBOX 2-->
            <div data-cat="Lbel">
                <div class="content_checkbox">
                    <input class="inputradio" type="checkbox">
                    <span class="inputfalso"></span>
                </div>
                <div class="check_label">L'Bel</div>
            </div>
            <!--CHECBOX 3-->
            <div data-cat="Cyzone">
                <div class="content_checkbox">
                    <input class="inputradio" type="checkbox">
                    <span class="inputfalso"></span>
                </div>
                <div class="check_label">Cyzone</div>
            </div>
            <hr class="clear" />
        </div>
        <a class="btn_enviar_correo" id="btnEnviarCorreo">ENVIAR</a>
    </div>

</div>
<!--MENSAJE DE ALERTA 1-->
<div class="mensaje_alerta_belcorp" id="mensaje_alerta">
    <div class="content_mensaje_alerta">
        <a class="btn_cerrar_alerta" href="javascript:;" onclick="javascript: $('#mensaje_alerta').hide();"><img src="@Url.Content("~/Content/Images/cerrar_04.png")" /></a>
        <hr class="clear" />
        <div class="icono_mensaje_alerta icono_check_alerta"></div>
        <div class="texto_mensaje_alerta" id="mensaje_alerta_titulo">¡BIEN <b>HECHO</b>! </div>
        <div class="sub_texto_alerta" id="mensaje_alerta_texto">Se envió satisfactoriamente el correo a los clientes(s) seleccionado(s)</div>
        <a class="btn_ok_alerta" onclick="javascript: $('#mensaje_alerta').hide();">OK</a>
    </div>
</div>
<!--FIN-->
<!--MENSAJE DE ALERTA 2-->
<div class="mensaje_alerta_belcorp" id="mensaje_exclamacion">
    <div class="content_mensaje_alerta">
        <a class="btn_cerrar_alerta" href="javascript:;" onclick="javascript: $('#mensaje_exclamacion').hide();"><img src="@Url.Content("~/Content/Images/cerrar_04.png")" /></a>
        <hr class="clear" />
        <div class="icono_mensaje_alerta icono_exclamacion_alerta"></div>
        <div class="texto_mensaje_alerta" id="mensaje_exclamacion_titulo">LO <b>SENTIMOS</b> </div>
        <div class="sub_texto_alerta" id="mensaje_exclamacion_texto">Debe seleccionar al menos un Catálogo</div>
        <a class="btn_ok_alerta" onclick="javascript: $('#mensaje_exclamacion').hide();">OK</a>
    </div>
</div>

<div style="display: none;">
    @using (Html.BeginForm("MiRevista", "MisCatalogosRevistas", FormMethod.Post, new { id = "frmMiRevista", target = "_blank" }))
{
    <input type="hidden" name="campaniaRevista" id="campaniaRevista" value="">
}
</div>
@section styles{

    <link href="~/Content/Css/Site/jquery.tag-editor.css" rel="stylesheet" />
    <link href="~/Content/Css/Site/Esika/revistaDigital.css" rel="stylesheet" />
}
@section scripts{
    @*<script src="@Url.Content("~/Scripts/slick-vertical.min.js")"></script>*@
    <script src="@Url.Content("~/Scripts/Tag/jquery.tags.input.js")"></script>

    <script type="text/javascript" id="js-ready-Catalogo">
        var tagLbel = "Lbel";
        var tagEsika = "Esika";
        var tagCyzone = "Cyzone";

        var campSelect = "";
        var campSelectI = 1;

        var aCam = new Array();
        var linkCat = new Object();
        var descrCat = new Object();
        var ordenCat = new Object();

        var cantCat = 3;
        var cantCam = 3;
        var cont = 0;

        var imgNoDisponible = '@Url.Content("~/Content/Images/catalogo_no_disponible.jpg")';
        var imgIssuu = '@Portal.Consultoras.Common.Constantes.CatalogoUrlParameters.UrlPart01' + '{img}' + '@Portal.Consultoras.Common.Constantes.CatalogoUrlParameters.UrlPart02Alternativo'
        imgIssuu = imgIssuu.startsWith("https") ? imgIssuu.replace("https://", "http://") : imgIssuu;

        var rCampSelect = "";
        var rCampSelectI = 1;
        var cantCamRev = 3;
        var codigoIso = '@ViewBag.CodigoISO';
        var aCamRev = new Array();
        var urlObtenerPortadaRevista = '@Url.Action("ObtenerPortadaRevista", "Catalogo", new { area = "Mobile" })';
        var defaultImageRevista = '@Url.Content("~/Content/Images/revista_no_disponible.jpg")';
        var urlIconoClienteAutoCompletar = '@Url.Content("~/Content/Images/Esika/user.jpg")';
        var valContenidoCorreoDefecto = '@Html.Raw(ViewBag.TextoMensajeSaludoCorreo)';
        var RevistaCodigoIssuu = {
            '@Model.CampaniaAnterior': '@Model.CodigoRevistaAnterior',
            '@Model.CampaniaActual': '@Model.CodigoRevistaActual',
            '@Model.CampaniaSiguiente': '@Model.CodigoRevistaSiguiente'
        }
        var urlDetalle = '@Url.Action("Detalle", "MisCatalogosRevistas", new { area = "" })';
        var _Pagina = 1;
        var urlRevistaDigital = '@Url.Action("Comprar", "RevistaDigital")';
    </script>

    <script type="text/javascript" src="@Url.Content("~/Scripts/PortalConsultoras/MisCatalogosRevistas/Index.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/PortalConsultoras/RevistaDigital/RevistaDigital-DataLayer.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/PortalConsultoras/RevistaDigital/RevistaDigital-Suscripcion.js")"></script>
}
