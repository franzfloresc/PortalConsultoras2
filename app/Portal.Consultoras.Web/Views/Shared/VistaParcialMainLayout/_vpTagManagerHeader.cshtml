
@{
    var topProd = ViewBag.TipoLayoutTagManager == 1 ? "TipoEmpty" : ViewBag.TipoLayoutTagManager == 2 ? "TipoSac" : "";
}

<!-- Variables Globales Google Tag Manager -->
<script type="text/javascript">

    dataLayer = [];
    var listaPedidos = @Html.Raw(Json.Encode((ViewBag.ListaPedidosPendientesCliente != null) ? ViewBag.ListaPedidosPendientesCliente : ""));
    console.log('listaPedidos');
    console.log(listaPedidos);
    if (listaPedidos.length > 0) {
        debugger;
        console.log('listaPedidos length ' + listaPedidos.length);        
        for (var i = 0; i < listaPedidos.length; i++) {
            console.log(listaPedidos[i]);
            CargaDataLayer(listaPedidos[i]['MedioContacto']);
        }
    } else {
        CargaDataLayer();
    } ;

    function CargaDataLayer(origenPedido) {
        console.log('origenpedido', origenPedido);
        var contenido = {};
        if ('@topProd' == 'TipoEmpty') {
        contenido = {
        'campana': '@ViewBag.AnalyticsCampania',
        'segmento': '@ViewBag.AnalyticsSegmento',
        'edad': '@ViewBag.AnalyticsEdad',
        'zona': '@ViewBag.AnalyticsZona',
        'pais': '@ViewBag.AnalyticsPais',
        'rol': '@ViewBag.AnalyticsRol',
        'region': '@ViewBag.AnalyticsRegion',
        'seccion': '@ViewBag.AnalyticsSeccion',
        'codigoconsultora': '@ViewBag.AnalyticsCodigoConsultora',
        'periodo': '@ViewBag.AnalyticsPeriodo',
        'segmentoconstancia': '@ViewBag.AnalyticsSegmentoConstancia',
        'socianivel': '@ViewBag.AnalyticsSociaNivel',
        'semana-periodo': '@ViewBag.SemanaAnalytics',
        'inscripcionEPM': '@ViewBag.EstadoInscripcionEpm'
        };
        if (origenPedido) {
        contenido['origen-pedido'] = origenPedido;
        }
        }
        else if ('@topProd' == 'TipoSac')
        {
        contenido = {
        'event': 'userCustomVars',
        'campana': '@ViewBag.Campania',
        'segmento': '@ViewBag.SegmentoAnalytics',
        'edad': '@ViewBag.EdadAnalytics',
        'zona': '@ViewBag.ZonaAnalytics',
        'pais': '@ViewBag.PaisAnalytics',
        'rol': '@ViewBag.RolAnalytics'
        };
        }
        else {
        contenido = {
        'campana': '@ViewBag.CampaniaCodigo',
        'segmento': '@ViewBag.SegmentoAnalytics',
        'edad': '@ViewBag.EdadAnalytics',
        'zona': '@ViewBag.ZonaAnalytics',
        'pais': '@ViewBag.PaisAnalytics',
        'rol': '@ViewBag.esConsultoraLiderAnalytics',
        'region': '@ViewBag.RegionAnalytics',
        'seccion': '@ViewBag.SeccionAnalytics',
        'codigoconsultora': '@ViewBag.CodigoConsultoraDL',
        'periodo': '@ViewBag.PeriodoAnalytics',
        'segmentoconstancia': '@ViewBag.SegmentoConstancia',
        'socianivel': '@ViewBag.DescripcionNivelAnalytics',
        'semana-periodo': '@ViewBag.SemanaAnalytics',
        'inscripcionEPM': '@ViewBag.EstadoInscripcionEpm'
        };
        if (origenPedido) {
        contenido['origen-pedido'] = origenPedido;
        }
        }
        dataLayer.push(contenido);
        }


</script>
<!-- End Variables Globales Google Tag Manager -->
