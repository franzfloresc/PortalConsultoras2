<script id="js-ResultadoBuscador" type="text/x-handlebars-template">
    {{#each this as |item|}}
    <div class="resultado_busqueda_producto {{#if Stock}} resultado_busqueda_producto--agotado {{/if}} ml-0 mr-0" data-item="ProductoBuscador">
        <div style="display:none;">
            <input type="hidden" class="hdBuscadorJSON" value="{{JSON2string item}}" />
            <input type="hidden" class="hdBuscadorCUV" value="{{CUV}}" />
            <input type="hidden" class="hdBuscadorSAP" value="{{SAP}}" />
            <input type="hidden" class="hdBuscadorPrecio" value="{{Precio}}" />
            <input type="hidden" class="hdBuscadorCodigoPalanca" value="{{TipoEstrategiaId}}" />
            <input type="hidden" class="hdBuscadorMarcaId" value="{{MarcaId}}" />
            <input type="hidden" class="hdBuscadorDescripcion" value="{{Descripcion}}" />
            <input type="hidden" class="hdBuscadorDescripcionEstrategia" value="{{DescripcionEstrategia}}" />
            <input type="hidden" class="hdBuscadorPrecio" value="{{Precio}}" />
            <input type="hidden" class="hdBuscadorValorizado" value="{{Valorizado}}" />
            <input type="hidden" class="hdBuscadorPosicion" value="{{posicion}}" />
            <input type="hidden" class="hdBuscadorLimiteVenta" value="{{LimiteVenta}}" />
            <input type="hidden" class="hdBuscadorCantidadesAgregadas" value="{{CantidadesAgregadas}}" />
            <input type="hidden" class="hdBuscadorCodigoTipoEstrategia" value="{{CodigoTipoEstrategia}}" />
            <input type="hidden" class="hdBuscadorCampaniaID" value="{{CampaniaID}}" />
            <input type="hidden" class="hdBuscadorOrigenPedidoWeb" value="{{OrigenPedidoWeb}}" />
            <input type="hidden" class="hdBuscadorTipoPersonalizacion" value="{{TipoPersonalizacion}}" />
            <input type="hidden" class="hdBuscadorEstrategiaID" value="{{EstrategiaID}}" />
            <div data-imagen-producto="{{Imagen}}"></div>
        </div>
        <div class="resultado_busqueda_img_prod redireccionarFicha pl-0 pr-0">
            <img src="{{Imagen}}" onerror="this.onerror=null;this.src='@Url.Content("~/Content/Images/imagen_prod_no_disponible.jpg")'" />
        </div>
        <div class="resultado_busqueda_descrip_prod pl-0 pr-0 redireccionarFicha">
            <div class="resultado_busqueda_nom_producto pl-0 pr-0">
                {{Descripcion}}
            </div>
            <div class="resultado_busqueda_precio_prod pl-0 pr-0">
                {{#if_eq TipoPersonalizacion 'LIQ'}}
                <span class="resultado_busqueda_precio_oferta d-block pl-0 pr-0">{{PrecioString}}</span>
                {{else}}
                {{#iff Valorizado '>' 0}}
                <span class="resultado_busqueda_precio_normal d-block pl-0 pr-0">{{ValorizadoString}}</span>
                {{/iff}}
                <span class="resultado_busqueda_precio_oferta d-block pl-0 pr-0">{{PrecioString}}</span>
                {{/if_eq}}
            </div>
            <div class="resultado_busqueda_tipo_oferta_prod pl-0 pr-0">{{DescripcionEstrategia}}</div>
        </div>
        <div class="resultado_wrapper_selector_cantidad_y_btn_agregar ml-0 mr-0 pl-0">
            {{#if_eq CodigoEstrategia '2003'}}
            <div class="resultado_busqueda_btn_elegir_opcion_wrapper pl-0 pr-0 text-center" data-OrigenPedidoWeb="{{OrigenPedidoWeb}}">
                {{#if Stock}}
                <a class="btn_inactivo btn_elegir_opcion ml-0 mr-0 text-uppercase redireccionarFicha" href="javascript:;">
                    Agotado
                </a>
                {{else}}
                <a class="btn_elegir_opcion ml-0 mr-0 text-uppercase redireccionarFicha" href="javascript:;">
                    <span class="icono_elige_tu_opcion d-inline-block">
                        <img src="@Url.Content("~/Content/Images/icono-elige-tu-opcion.svg")" alt="Elige tu opción" />
                    </span>
                    <span class="d-inline-block text-bold">
                        Elige<br /> tu opción
                    </span>
                </a>
                {{/if}}
            </div>
            {{else}}
            <div class="resultado_busqueda_cantidad_prod pl-0 pr-0 {{#if Stock}} selector_cant_desactivado {{/if}}" data-cantidad-contenedor="">
                <a class="cantidad_menos_home d-inline-block js-no-popup" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)">
                    <img src="/Content/Images/Mobile/Esika/menos.png" alt="">
                </a>
                <input type="tel" value="1" size="2" maxlength="2" data-input="cantidad"
                       class="rango_cantidad_pedido text-center ValidaNumeral ValidaPasteNumeral" {{#if Stock}} disabled {{/if}} />
                <a class="cantidad_mas_home d-inline-block js-no-popup" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)">
                    <img src="/Content/Images/Mobile/Esika/mas.png" alt="">
                </a>
                <div class="clear"></div>
            </div>
            <div class="resultado_busqueda_btn_agregar_wrapper pl-0 pr-0 text-center">
                {{#if Stock}}
                <a class="btn_inactivo d-block text-center text-uppercase">
                    Agotado
                </a>
                {{else}}
                <a class="boton_Agregalo_home text-center text-uppercase d-block agregarProductoBuscador">
                    Agrégalo
                </a>
                {{/if}}
                <div class="etiqueta_prod_agregado text-uppercase text-bold pl-0 etiqueta_buscador_producto">
                    {{#if_eq Agregado 'Agregado'}}
                    <span class="text-uppercase text-bold d-inline-block">Agregado</span>
                    {{/if_eq}}
                </div>
            </div>
            {{/if_eq}}
        </div>
    </div>
    {{/each}}

    @if (ViewBag.MostrarBotonVerTodos == true)
    {
        <div class="ver_todos_los_resultados_wrapper">
            <a id="BotonVerTodosResultados"
               href="#"
               title="Ver más resultados"
               class="enlace_ver_todos_los_resultados text-center text-uppercase text-bold d-block">
                Ver más resultados
            </a>
        </div>
    }
</script>
