@model Portal.Consultoras.Web.Models.ConfiguracionSeccionHomeModel

@{
    var esShowRoom = Portal.Consultoras.Web.SessionManager.SessionManager.Instance.GetEsShowRoom();
    var mostrarShowRoomProductos = Portal.Consultoras.Web.SessionManager.SessionManager.Instance.GetMostrarShowRoomProductos();
    var mostrarShowRoomProductosExpiro = Portal.Consultoras.Web.SessionManager.SessionManager.Instance.GetMostrarShowRoomProductosExpiro();

    var mostrarPopupIntriga = !mostrarShowRoomProductos && !mostrarShowRoomProductosExpiro;
    var mostrarPopupVenta = mostrarShowRoomProductos && !mostrarShowRoomProductosExpiro;

    var backgroundVenta = mostrarPopupIntriga ? "" : "background: url('" + @Model.ImagenFondo + "') center center no-repeat;";
}

@if (esShowRoom)
{
<div class="bc_plantilla_estrategia_personalizada"
     data-OrigenPedidoWeb=""
     data-seccion-productos="" 
     style="@backgroundVenta;min-height: 500px; vertical-align: middle;">

    @if (mostrarPopupIntriga)
    {
        <script id="template-showroom" type="text/x-handlebars-template">
            <div class="" data-popup-main="" style="max-height: 550px;">
                <div class="" data-popup-body style="text-align:center; position:relative">
                    <input type="hidden" id="hdEventoIDShowRoom" value="{{EventoId}}" />
                    <input type="hidden" id="spnShowRoomEvento" value="{{EventoNombre}}" />
                    <input type="hidden" id="spnShowRoomEventoDescripcion" value="{{EventoTema}}" />
                    <div class="contenedorMensajeIntrigaA">
                        @*<div class="saludo_consultora_showroom saludo_landing">{{MensajeSaludo}}</div>*@
                        <div class="dias_intriga_home dias_inicio_landing" style="top: 123px; font-size: 72px;">{{MensajeDiasFaltantes}}</div>
                    </div>
                    <div class="contenedorMensajeIntrigaB">
                    </div>
                    <a href="/ShowRoom/Intriga">
                        <img class="imagen_dias_intriga_inicio" style="height: 500px;" src="@Model.ImagenFondo" />
                    </a>
                </div>
            </div>
        </script>
    }

    @if (mostrarPopupVenta)
    {
        <script id="template-showroom" type="text/x-handlebars-template">
            <div style="padding: 0 18%;">
                <div id="container-showroom-landing" class="content-favclientes content_carrusel_agregado">
                    <div>
                        <div class="titulo">
                            <h2>@Model.Titulo</h2>
                            <div class="boton-ir">
                                <a href="/ShowRoom">VER TODOS LOS SETS</a>
                            </div>
                        </div>
                        <div class="clear"></div>
                        @*<hr class="clear" />*@
                        <div class="" style="position:relative; margin-top: 25px;">
                            {{#each this.data as |item|}}
                            <div class="" style="float: left; height: 100%; min-height: 1px; width:300px">
                                <div class="content_item_carrusel" data-posicion="{{Posicion}}" data-item="{{OfertaShowRoomID}}">
                                    <div data-campos="" style="display:none;">
                                        <input type="hidden" class="hdOfertaShowRoomID" value="{{OfertaShowRoomID}}" />
                                        <input type="hidden" class="valorCuv" value="{{CUV}}" />
                                        <input type="hidden" class="claseMarcaID" value="{{MarcaID}}" />
                                        <input type="hidden" class="clasePrecioUnidad" value="{{PrecioOferta}}" />
                                        <input type="hidden" class="claseConfiguracionOfertaID" value="{{ConfiguracionOfertaID}}" />
                                        <input type="hidden" class="DescripcionProd" value="{{Descripcion}}" />
                                        <input type="hidden" class="DescripcionMarca" value="{{DescripcionMarca}}" />
                                        <input type="hidden" class="posicionEstrategia" value="{{Posicion}}" />
                                        <input type="hidden" class="origenPedidoWeb" value="1541" />
                                    </div>
                                    <div class="producto_img_home mini" data-img="">
                                        {{#IsNullOrEmpty ImagenProducto '=='}}
                                        <img src="@Url.Content("~/Content/Images/showroom/no_disponible.png")" style="max-width: 100% !important;" class="imagen_producto" alt="" />
                                        {{else}}
                                        <img src="{{ImagenProducto}}" alt="" style="max-width: 100% !important;" class="imagen_producto" />
                                        {{/IsNullOrEmpty}}
                                        <a class="ver_detalle_carrusel" href="{{UrlDetalle}}">VER DETALLE</a>
                                    </div>
                                    <div class="producto_nombre_descripcion">
                                        <p class="nombre-producto-set">{{Descripcion}}</p>
                                        <div class="producto_precio" style="margin-bottom: 3px;">
                                            <span class="precio-oferta-normal">{{Simbolo}} {{FormatoPrecioValorizado}}</span>
                                            <span class="precio-oferta-venta"><b>{{Simbolo}} {{FormatoPrecioOferta}}</b></span>
                                        </div>
                                        <div class="liquidacion_rango_home" data-cantidad-contenedor="">
                                            <input type="text" value="1" min="1" max="99" size="2" maxlength="2"
                                                   class="liquidacion_rango_cantidad_pedido ValidaNumeral ValidaPasteNumeral"
                                                   oninput="maxLengthCheck(this, 2)" onkeypress=" return FuncionesGenerales.ValidarSoloNumeros(event); "
                                                   data-input="cantidad" data-cantidad-input="-">
                                            <div class="liquidacion_rango_right_pedido">
                                                <a class="mas" data-cantidad-agregar="+" href="javascript:;"><img src="/Content/Images/Esika/mas.png" alt=""></a>
                                                <a class="menos" data-cantidad-agregar="-" href="javascript:;"><img src="/Content/Images/Esika/menos.png" alt=""></a>
                                            </div>
                                        </div>
                                        <a class="boton_Agregalo_home" data-btn-agregar-sr="">AGRÉGALO</a>
                                        <div class="clear"></div>
                                        <div style="padding-top: 9px; height: 15px;">
                                            <div class="agregado product-add" style="text-align: right; display: {{Agregado}};">
                                                AGREGADO
                                                <div class="icono"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                {{/each}}
                                <div class="clear"></div>
                            </div>
                    </div>
                    <hr class="clear" />
                </div>
            </div>
        </script>

    }

</div>
}
