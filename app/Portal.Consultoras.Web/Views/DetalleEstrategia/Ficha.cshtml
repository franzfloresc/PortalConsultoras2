@using Portal.Consultoras.Common
@model Portal.Consultoras.Web.Models.DetalleEstrategiaFichaModel

@{
    Layout = "~/Views/Shared/_MainLayoutContenedor.cshtml";
}

@Html.Partial("FichaTemplate")
@*@Html.Partial("~/Views/RevistaDigital/template-mensaje-bloqueado.cshtml", Model.MensajeProductoBloqueado)*@

@section scripts{

    @System.Web.Optimization.Scripts.Render("~/Bundle/Js/Mixto/EstrategiaAgregar")
    @System.Web.Optimization.Scripts.Render("~/Bundle/Js/Mixto/TusClientes")
    @System.Web.Optimization.Scripts.Render("~/Bundle/Js/Mixto/Ficha")

    <script type="text/javascript">
        AbrirLoad();

        var fichaModule;
        var componenteDetalleModule;

        $(document).ready(function () {
            debugger;
            componenteDetalleModule = ComponenteDetalleModule({
                localStorageModule: LocalStorageModule(),
                analyticsPortalModule: AnalyticsPortalModule,
                palanca: "@Model.Palanca",
                campania: "@Model.Campania",
                cuv: "@Model.Cuv",
                origen: "@Model.OrigenUrl"
            });

            fichaModule = FichaModule({
                localStorageModule: LocalStorageModule(),
                analyticsPortalModule: AnalyticsPortalModule,
                componenteDetalleModule: componenteDetalleModule,

                generalModule: GeneralModule,
                palanca: "@Model.Palanca",
                campania: "@Model.Campania",
                cuv: "@Model.Cuv",
                origen: "@Model.OrigenUrl"
            });

            fichaModule.Inicializar();

            CerrarLoad();
        });

        $(document).ajaxStop(function () { });
    </script>
}