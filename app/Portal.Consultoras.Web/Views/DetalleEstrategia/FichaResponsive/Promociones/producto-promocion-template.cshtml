@using Portal.Consultoras.Common

<script id="producto-promocion-template" type="text/x-handlebars-template">

    <div class="d-flex flex-column " data-item="{{EstrategiaID}}" data-item-cuv="{{CUV2}}" data-tipoestrategiaimagenmostrar="{{TipoEstrategiaImagenMostrar}}">
        <div style="display:none;">
            <input type="hidden" class="PosicionEstrategia" value="{{Posicion}}" />
            <div data-estrategia="{{JSON2string this}}"></div>
            <div data-imagen-producto="{{ImgUrl FotoProducto01}}"></div>
        </div>

        <!-- <ProductoEnPromocion>-->
        <div class="row no-gutters mx-3 my-3">
            <div class="w-100 titulo-promociones">
                <span class="texto-promociones black dark-color">¡Y llévate esta promoción!</span>
            </div>
            <div class="w-100 descripcion-promociones">
                <div class="contenedor-imagen">
                    {{#iff TipoPersonalizacion '==' 'CAT'}}
                    <img src="{{FotoProducto01}}" alt="Texto" class="img-responsive" />
                    {{/iff}}
                    {{#iff TipoPersonalizacion '!=' 'CAT'}}
                    {{#if isMobile}}
                    <img src="{{ImgMedium FotoProducto01}}" alt="Texto" class="img-responsive" />
                    {{else}}
                    <img src="{{ImgUrl FotoProducto01}}" alt="Texto" class="img-responsive" />
                    {{/if}}
                    {{/iff}}
                </div>
                <span class="texto-promociones">{{DescripcionMarca}}</span>
                <span class="texto-promociones black">{{DescripcionCortada}}</span>
                <span class="texto-promociones"><span>Precio para tu cliente:</span> {{SimboloMoneda}} {{PrecioVenta}}</span>
            </div>
        </div>


        <!-- </ProductoEnPromocion>-->
        <!-- </AccionesEnPromocion>-->

        <div class="row no-gutters mx-3 my-3 w-92 b-0 position-absolute">
            {{#if TieneStock}}
            {{#iff TipoAccionAgregar '==' '@Constantes.TipoAccionAgregar.AgregaloNormal'}}
            <div class="col-3 pr-2">
                <div id="idcontenedor_rangos" data-cantidad-contenedor="" class="contenedor_rangos ">
                    <input class="txt_cantidad_pedido ValidaNumeral ValidaPasteNumeral" type="text" onkeyup="" size="2" maxlength="2" id="txtCantidad" data-input="cantidad" data-cantidad-input="-" value="1">
                    <div>
                        <a class="txt_menos" data-cantidad-agregar="-" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)">
                            <div class="dibujar_linea dibujar_menos"></div>
                        </a>
                        <a class="txt_mas" data-cantidad-agregar="+" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)">
                            <div class="dibujar_linea dibujar_mas"></div>
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-9 pl-2">
                <a id="btnAgregalo"
                   onclick="javascript:EstrategiaAgregarModule.EstrategiaAgregar(event); "
                   class="btn_agregalo btn_primario">
                    <div class="icono_agregar"></div> Agregar
                </a>
            </div>
            {{/iff}}
            {{#iff TipoAccionAgregar '==' '@Constantes.TipoAccionAgregar.EligeOpcion'}}
            <button class="btn_agregalo_producto btn_defecto" onclick="javascript:FichaVerDetalle.OnClickFichaDetalle(event.target);">
                <img src="/Content/Images/mobile/Esika/click-ico-White.svg"> Elige tu opción
            </button>
            {{/iff}}
            {{else}}
            <div class="tag_agotago">Agotado</div>
            {{/if}}
        </div>

        <!-- </AccionesEnPromocion>-->


    </div>

    </section>
    @* El section cerrado viene desde modal-promociones.cshtml se abre en la linea 14 y se cierra en esta linea 79 *@


</script>