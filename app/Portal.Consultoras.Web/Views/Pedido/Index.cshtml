@using Portal.Consultoras.Common
@using Portal.Consultoras.Web.Models
@using Portal.Consultoras.Web.SessionManager
@model PedidoSb2Model

@{
    ViewBag.Title = "Ingresa tu Pedido";
}

@section styles{
    @System.Web.Optimization.Styles.Render("~/Bundle/Css/Desktop/Site-CssPedido")
}

<div class="franja_negra" style="background: #000 url(@ViewBag.UrlFranjaNegra) no-repeat center bottom;"></div>
<div class="envolvente_pop_up">
    <div class="pop_pedido" id="pop_liquidacion" style="display: none;">
        <div class="check_liquidacion"><img src="@Url.Content("~/Content/Images/Esika/check_liquidacion.png")" /></div>
        <div class="titulo_liquidacion">
            ¡PRODUCTO AGREGADO SATISFACTORIAMENTE!
        </div>
        <hr class="clear" />
        <div id="contenedorProductoAgregado" class="imagen_pop_l"><img id="imgProductoAgregado" src="" alt="" /></div>
        <div class="info_pop_liquidacion">
            <h1 id="nombreProductoAgregado"></h1>
            <h2><span id="cantidadProductoAgregado"></span> unidades</h2>
            <p>@Model.Simbolo <span id="totalProductoAgregado"></span></p>
        </div>
        <hr class="clear" />
        <a href="javascript:;" onclick="javascript: $('#pop_liquidacion').hide();" class="boton_pop_up">CERRAR</a>
    </div>
</div>

<div class="wrapper_general2">
    <div class="fondo_pendiente"></div>
    <input id="hdTipoEstrategiaID" type="hidden" value="0" />
    <input id="hdEsOfertaIndependiente" type="hidden" value="0" />
    <input id="hdAccionBotonProl" type="hidden" value="@Model.AccionBoton" />
    <input id="hdCuvRecomendado" type="hidden" />
    <input id="hdnHasFlexipago" type="hidden" value="@Model.IndicadorFlexiPago" />
    <input id="hdfEstadoPedido" type="hidden" value="@Model.EstadoPedido" />
    <input id="hdfNomConsultora" type="hidden" value="@Model.NombreConsultora" />

    <h1 class="titulo_principal_interiores pedido_left">INGRESA <strong>TU PEDIDO</strong></h1>
    <div class="clear"></div>

    <div class="pedido_ingreso_c2">
		<form id="frmInsertPedido" action="@Url.Action("PedidoInsertar", "Pedido")" method="post" role="form">
			<input type="hidden" id="hdfDescripcionCategoria" />
			<input type="hidden" id="hdfDescripcionEstrategia" />
			<input type="hidden" id="hdfDescripcionMarca" />
			<input type="hidden" id="hdfCUV" />
			<input type="hidden" id="hdfClienteDescripcion" />
			<input type="hidden" id="hdnRegistrosPaginar" value="@Model.Registros" name="Registros" />
			<input type="hidden" id="hdnRegistrosDePaginar" value="@Model.RegistrosDe" name="RegistrosDe" />
			<input type="hidden" id="hdnRegistrosTotalPaginar" value="@Model.RegistrosTotal" name="RegistrosTotal" />
			<input type="hidden" id="hdnPaginaPaginar" value="@Model.Pagina" name="Pagina" />
			<input type="hidden" id="hdnPaginaDePaginar" value="@Model.PaginaDe" name="PaginaDe" />
			<input type="hidden" id="hdnClienteID_" value="@Model.ClienteID_" name="ClienteID_" />
			<input type="hidden" id="hdfTipo" value="@Model.Tipo" name="Tipo" />
			<input type="hidden" id="hdfIndicadorMontoMinimo" value="@Model.IndicadorMontoMinimo" name="IndicadorMontoMinimo" />
			<input type="hidden" id="hdTipoOfertaSisID" value="@Model.TipoOfertaSisID" name="TipoOfertaSisID" />
			<input type="hidden" id="hdConfiguracionOfertaID" value="@Model.ConfiguracionOfertaID" name="ConfiguracionOfertaID" />
			<input type="hidden" id="hdnDescripcionEstrategia" value="@Model.DescripcionEstrategia" name="DescripcionEstrategia" />
			<input type="hidden" id="hdnDescripcionLarga" value="@Model.DescripcionLarga" name="DescripcionLarga" />
			<input type="hidden" id="hdfDescripcionProd" value="@Model.DescripcionProd" name="DescripcionProd" />
			<input type="hidden" id="hdfMarcaID" value="@Model.MarcaID" name="MarcaID" />
			<input type="hidden" id="hdfPrecioUnidad" value="@Model.PrecioUnidad" name="PrecioUnidad" />
			<input type="hidden" id="hdfClienteID" value="@Model.ClienteID" name="ClienteID" />
			<input type="hidden" id="hdfOrigenPedidoWeb" value="@Constantes.OrigenPedidoWeb.DesktopPedidoDigitado" name="OrigenPedidoWeb" />
			<input type="hidden" id="hdfEsBusquedaSR" />
			<input type="hidden" id="hdfEstrategiaId" value="0"/>

			<div id="divObservaciones" class="pedidos_no_existe" style="position:relative;"></div>

			<div class="pedido_ingreso_datos campo_codigo">
				<br />
				<input type="text" name="CUV" id="txtCUV" maxlength="5" class="ValidaNumeral" placeholder="Código" />
			</div>

			<div class="pedido_ingreso_datos campo_descripcion_producto">
				<!-- MENSAJE CUANDO LA DESCRIPCIÓN DE PRODUCTO INGRESADA NO EXISTA -->
				<div id="divObservacionesDescripProd" class="pedidos_no_existe" style="display:none;">
					<div class="noti mensaje_producto_noExiste">
						<div class="noti_message red_texto_size">
							<span class="icono_advertencia_notificacion"></span>
							El producto solicitado no existe.
						</div>
					</div>
				</div>
				<!-- FIN - MENSAJE CUANDO LA DESCRIPCIÓN DE PRODUCTO INGRESADA NO EXISTA -->
				<br />
				<input type="text" name="DescripcionProd" id="txtDescripcionProd" maxlength="250" onblur="ValidarDescripcion();" class="ValidaAlfanumerico"
                       @*onkeyup="PreValidarCUV(event);"*@ 
                       attrKey="PreValidarCUV"
                       placeholder="Descripción producto" />
			</div>

			<div class="pedido_ingreso_datos campo_precio">
				<br />
				<input id="txtPrecioR" disabled="disabled" class="preciounitario" placeholder="Precio" />
			</div>

			<div class="pedido_ingreso_datos campo_cantidad">
				<br />
				<div class="liquidacion_rango_wrapper_pedido" data-cantidad-contenedor="">
					<input type="text" name="Cantidad" id="txtCantidad" data-input="cantidad" value="1" maxlength="2" class="liquidacion_rango_cantidad_pedido ValidaNumeral ValidaPasteNumeral"
                           @*onkeypress="PreValidarCUV(event);"*@ 
                           onfocus="SeleccionarContenido(this)" attrKey="PreValidarCUV"/>
					<div class="liquidacion_rango_right_pedido">
						<a class="mas" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)"><img src="@Url.Content("~/Content/Images/Esika/mas.png")" alt="" /></a>
						<a class="menos" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)"><img src="@Url.Content("~/Content/Images/Esika/menos.png")" alt="" /></a>
					</div>
				</div>
			</div>

			<div class="pedido_ingreso_datos campo_cliente">
				<br />
				<input type="text" name="ClienteDescripcion" id="txtClienteDescripcion" onblur="ValidarCliente();" onkeydown="ValidarClienteFocus(event);"
					   maxlength="50" class="ValidaAlfanumerico" placeholder="Cliente (Opcional)" />
				<span class="pedido_ingreso_datos_icono_mas">+</span>
				<a class="pedidos_cliente" onclick="showClienteDetalle(null);">
					AGREGAR NUEVO CLIENTE
				</a>
			</div>
			<input type="hidden" id="hdFlagNueva" />
			<input type="hidden" id="hdMetodoBusqueda" />
			<input id="btnAgregar" type="submit" value="AGREGAR" disabled="disabled" onkeydown="Tabular(event);" class="pedido_agregado" />
		</form>
    </div>
    <div class="clear"></div>
    <div class="productos_recomendados_wrapper" id="divProductosRecomendados"></div>
    @Html.Partial("~/Views/ProductoRecomendado/_template_producto.cshtml")
    <div class="caja_pedidos">
        <div data-barra-width="">
            <div id="divBarra">
                <div id="divBarraMensaje">
                    <div id="divBarraMensajeLogrado" style="display:none;">
                        <div style="float:right;">
                            <div class="content_BarrMensaje">
                                <div class="mensaje_barra" style="display: inline;"></div>
                                <div class="agrega_barra"></div>
                            </div>
                            <hr class="clear" />
                            <div class="flechita_barra"></div>
                        </div>
                        <hr class="clear" />
                    </div>
                </div>
                <hr class="clear" />
                <div id="divBarraLimite">

                </div>
                <hr class="clear" />
                <div id="divBarraPosicion" class="BarraPosicion">
                    <span id="divBarraEspacioLimite" class="BarraLimite">
                        <span id="divBarraEspacioLogrado" class="BarraLogrado"></span>
                    </span>
                </div>
                <div class="informacion_barra">*Información referencial. Todo pedido realizado a través de la web está sujeto a stock. Algunos productos no suman a la escala de comisión. Guarda tu pedido para actualizar tu barra.</div>
            </div>
            <div class="clear"></div>
        </div>

        <input type="hidden" id="hdValidarPROL" value="@Model.FlagValidacionPedido" />
        <input type="hidden" id="hdfSimbolo" value="@Model.Simbolo" />
        <input type="hidden" id="hdfTotal" value="@Model.Total" />
        <input type="hidden" id="hdfTotalCliente" value="@Model.TotalCliente" />

        <div class="content_T_T" style="position:relative; z-index:100">
            <div class="bloque_left"></div>
            <div id="divListadoPedido" class="divListadoPedido tabla_pedidos">
                <div class="paginador_pedidos mostrarPaginadorPedidos">
                    <div class="titulo_mis_pedidos" style="width:100%;">

                        @if (ViewBag.MostrarPedidosPendientes == "1")
                        {
                            <h1 id="pedmostreo" class="w_40" data-pedido="1">PEDIDO <b>INGRESADO</b></h1>

                            <h1 id="penmostreo" style="display: none; background: white;" class="w_25" data-pedido="2">
                                <b>PENDIENTES</b>
                                <div class="info_tiempo_oportunidad inicial">
                                    <div class="campana">
                                        <a class="" href="javascript:;" role="menu" region="Superior" title="Notificaciones" id="lnk-sup-notificacion">
                                            <div class="campana_svg mensaje_svg"></div>
                                            <p class="notificaciones notificaciones_existentes notificaciones_activas" id="cont1PedidosPend">0</p>
                                        </a>
                                    </div>
                                    <div class="noticia">
                                        <h6>Tienes <span id="cont2PedidosPend">0</span> pedidos pendientes.</h6>
                                        <h6 class="tiempos_P"><span><b>Te quedan <span id="fecPedidoPendRec">00:00:00</span></b></span> horas para atenderlo.</h6>
                                        <h4 class="linkea_Pendientes">►REVÍSALO</h4>
                                    </div>
                                </div>
                            </h1>
                        }
                        else
                        {
                            <h1>MIS <b>PRODUCTOS</b></h1>
                        }
                    </div>
                    <div id="paginadorCab">
                    </div>
                </div>
                <div class="clear"></div>


                <div id="infoPedido">
                    <div class="grilla_pedidos" data-tag="table" id="tbListaPedido">
                        <div class="encabezado_ingresoPedido">
                            <div class="texto_encabezado_pedidos cabecera_codigo" align="left">Código</div>
                            <div class="texto_encabezado_pedidos cabecera_producto" align="left">Producto</div>
                            <div class="texto_encabezado_pedidos cabecera_unidades">Unidades</div>
                            <div class="texto_encabezado_pedidos precioUnitario cabecera_precioUnitario">Precio Unitario</div>
                            <div class="texto_encabezado_pedidos subtotal cabecera_subtotal">
                                <span class="mostrarPrecioUnitario">Precio Unitario</span>
                                <span>Subtotal</span>
                            </div>
                            <div class="texto_encabezado_pedidos cabecera_cliente">
                                <select id="ddlClientes" onchange="CambiarCliente(this)"></select>
                            </div>
                            <div class="texto_encabezado_pedidos acciones"></div>
                        </div>

                        <div id="tbobyDetallePedido"></div>
                    </div>
                </div>

                <div class="paginador_pedidos mostrarPaginadorPedidos inferior">
                    <div id="paginadorPie">
                    </div>
                </div>

                <div class="clear"></div>
            </div>

            <div class="caja_guardar_pedido">
                <div class="contenedor_guardadoPedido">
                    <div class="bloque_montosPedido">
                        <div class="caja_montos">
                            <div style="position:relative;">
                                <div class="contenedorCupon" style="width:100%;">
                                    <div class="contenedorCuponConocelo content_pedido_cupon_monto" style="display: none;">
                                        <div class="icono_cupon_monto"><img src="@Url.Content("~/Content/Images/PL20/cupon_gif_negro.gif")" alt="" /></div>
                                        <div class="texto_cupon_monto">Tienes un dscto exclusivo para ti, <a id="linkConocerDescuento2" class="link_cupon_home" style="color:black;">conócelo aquí</a></div>
                                    </div>
                                    <div class="contenedorCuponInfo content_pedido_cupon_monto" style="display: none;" data-cupon-info-pedido="">
                                        <div class="icono_cupon_monto"><img src="@Url.Content("~/Content/Images/PL20/cupon_gif_negro.gif")" alt="" /></div>
                                        <div class="texto_cupon_monto">Agrega alguna oferta exclusiva web para hacer válido tu cupón de descuento de 00 % || S/. 00.00</div>
                                    </div>
                                </div>

                                <hr class="clear" />
                                <hr class="separador_montos" />
                                <div class="caja_montos_textos">
                                    <div class="caja_montos_textos_sinDescuento">
                                        <span>TOTAL SIN DSCTO.</span>
                                        <span class="dscto_ofertasNiveles">(-) Dscto. Ofertas Por Niveles</span>
                                    </div>
                                    <br />
                                    <p class="monto_con_descuento pMontoCliente" style="display: none;">
                                        <span id="spnNombreCliente"></span>
                                    </p>
                                    <div class="monto_total">
                                        <span><b>Monto total:</b></span>
                                    </div>
                                    <br />
                                    <div class="monto_ganancia">
                                        <div class="info_extra_Validado abrir_popupMisGanancias">
                                            <img src="/Content/Images/Esika/info-copy.png" onclick="MostrarDetalleGanancia();">
                                        </div>
                                        @{
                                            string cabezaEscala = null, pieEscala = null;
                                            string lbl1Ganancia = null, lbl2Ganancia = null;

                                            if (Model.CodigoIso == Constantes.CodigosISOPais.Peru ||
                                                Model.CodigoIso == Constantes.CodigosISOPais.Colombia ||
                                                Model.CodigoIso == Constantes.CodigosISOPais.Ecuador ||
                                                Model.CodigoIso == Constantes.CodigosISOPais.Guatemala ||
                                                Model.CodigoIso == Constantes.CodigosISOPais.Salvador ||
                                                Model.CodigoIso == Constantes.CodigosISOPais.Dominicana ||
                                                Model.CodigoIso == Constantes.CodigosISOPais.PuertoRico) //PE,CO,EC,GT.SV,DO,PR
                                            {

                                                cabezaEscala = "Ganancia estimada total";
                                                pieEscala = "Ganancia total = Ahorro estimado proveniente de sus descuentos por compras en catálogo + ahorro estimado proveniente de compras en Guía de Negocio y Otros";
                                                lbl1Ganancia = "Mis descuentos";
                                                lbl2Ganancia = "Ganancia estimada *(Guia de negocio y otros)";
                                            }
                                            else if (Model.CodigoIso == Constantes.CodigosISOPais.Panama ||
                                                Model.CodigoIso == Constantes.CodigosISOPais.Mexico) //PA,MX
                                            {
                                                cabezaEscala = "Ganancia estimada total";
                                                pieEscala = "Ganancia total = Ahorro estimado proveniente de sus descuentos por compras en catálogo + ahorro estimado proveniente de compras en Revista y Otros";
                                                lbl1Ganancia = "Mis descuentos";
                                                lbl2Ganancia = "Ganancia estimada *(Revista y otros)";
                                            }
                                            else if (Model.CodigoIso == Constantes.CodigosISOPais.Chile) //CH
                                            {
                                                cabezaEscala = "Comisión y ahorro total";
                                                pieEscala = "Comisión = ganancia estimada proveniente de tus descuentos por compras en catálogo; Ahorro = ahorro estimado proveniente de compras en Guía de Negocio y Otros";
                                                lbl1Ganancia = "Mis descuentos (-)10% retencion comisión liquida";
                                                lbl2Ganancia = "Ahorro estimado *(Guia de negocio y otros)";
                                            }
                                            else if (Model.CodigoIso == Constantes.CodigosISOPais.Venezuela) //VE
                                            {
                                                cabezaEscala = "Oportunidad de ahorro total";
                                                pieEscala = "Oportunidad de Ahorro Total = Ahorro estimado proveniente de sus descuentos por compras en catálogo + ahorro estimado proveniente de compras en Revista y Otros";
                                                lbl1Ganancia = "Por tus compras de productos de catalogo";
                                                lbl2Ganancia = "Por tus comprar de productos de revista";
                                            }
                                            else if (Model.CodigoIso == Constantes.CodigosISOPais.Bolivia) //BO
                                            {
                                                cabezaEscala = "Ganancia total";
                                                pieEscala = "Ganancia total = Ahorro estimado proveniente de sus descuentos por compras en catálogo + ahorro estimado proveniente de compras en Guía de Negocio y Otros";
                                                lbl1Ganancia = "Mis descuentos";
                                                lbl2Ganancia = "Ganancia estimada *(Guia de negocio y otros)";
                                            }
                                            else if (Model.CodigoIso == Constantes.CodigosISOPais.CostaRica) //CR
                                            {
                                                cabezaEscala = "Oportunidad de ahorro total";
                                                pieEscala = "Oportunidad de Ahorro Total = Ahorro estimado proveniente de sus descuentos por compras en catálogo + ahorro estimado proveniente de compras en Revista y Otros";
                                                lbl1Ganancia = "Mis descuentos";
                                                lbl2Ganancia = "Oportunidad de ahorro *(Revista y otros)";
                                            }
                                        }
                                        @(cabezaEscala):

                                        <input type="hidden" id="hdeCabezaEscala" value="@cabezaEscala" />
                                        <input type="hidden" id="hdePieEscala" value="@pieEscala" />
                                        <input type="hidden" id="hdeLbl1Ganancia" value="@lbl1Ganancia" />
                                        <input type="hidden" id="hdeLbl2Ganancia" value="@lbl2Ganancia" />
                                    </div>
                                </div>
                                <div class="caja_montos_cantidades">

                                    <div class="caja_montos_cantidades_sinDescuento">
                                        <span data-pedidototal>@Model.Simbolo @Model.FormatoTotal</span>
                                        <span data-montodescuento>@Model.Simbolo @Model.FormatoMontoDescuento</span>
                                    </div>

                                    <p class="monto_con_descuento pMontoCliente" style="display: none;">
                                        <span id="spnTotalCliente"></span>
                                    </p>
                                    <p class="monto_total">
                                        <b>
                                            @Model.Simbolo
                                            <span id="sTotal" class="num" data-pedidocondescuento="">
                                                @Model.FormatoTotalConDescuento
                                            </span>
                                        </b>
                                    </p>

                                    <p class="monto_ganancia">
                                        <b>
                                            @Model.Simbolo
                                            <span id="spnMontoGanancia" data-ganancia="">@Model.FormatoMontoGanancia</span>
                                        </b>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="contenedor_btnGuardarPedido">
                        @{
                            string[] tooltips = (Model.ProlTooltip ?? "").Split('|');
                            string tooltip1 = "";
                            string tooltip2 = "";

                            if (ViewBag.TipoUsuario == 2)
                            {
                                tooltip1 = "TE ENCUENTRAS UNA SESIÓN DE PRUEBA";
                                tooltip2 = "Muy pronto podrás acceder a todos los beneficios de Somos Belcorp.";
                            }
                            else
                            {
                                tooltip1 = tooltips.Any() ? tooltips[0] : "";
                                tooltip2 = tooltips.Count() > 1 ? tooltips[1] : "";
                            }
                        }
                        @{
                            if (ViewBag.TipoUsuario == 2)
                            {
                                <div class="tooltip_importanteGuardarPedido" style="width:370px;">
                                    <text>@tooltip1</text>
                                    <span>@tooltip2</span>
                                </div>
                            }
                            else
                            {
                                <div class="tooltip_importanteGuardarPedido">
                                    <text>@tooltip1</text>
                                    <span>@tooltip2</span>
                                </div>
                            }
                        }
                        <div class="boton_guardarPedido">
                            <input type="button" id="btnValidarPROL" value="@Model.Prol" style="text-transform: uppercase;" class="info_copy" />
                        </div>
                    </div>

                    <div id="divCondicionesCupon" style="display: none; color: #9b9b9b">
                        <div style="margin-top: 19px;width: 42%;float:right;text-align:center;">*No incluye herramientas de venta</div>
                        <div class="clearfix"></div>
                    </div>

                    <div class="clear"></div>

                </div>

                <div class="clear"></div>

                <div id="divContendorPrincipal"></div>

                <div id="divNoValInteractiva" class="divNoValInteractiva" style="display:none;">
                    <img src="/Content/Images/icons/warning.png">
                    <span class="spnMensajeNoValInteractiva"></span>
                    <img id="idImagenCerrar" src="/Content/Images/icons/close.png" style="padding-left: 35px;">
                </div>
            </div>

            <div class="contenedor_eliminacion_pedido">
                <div class="datos_simplificacionCUV" style="display: none;">
                    <p class="precio_total_sinDescuento">
                        <span class="icon-advertencia"></span>
                        <span>
                            El precio total no incluye el descuento para ofertas con más de un precio (1x, 2x).<br />
                        </span>
                    </p>
                </div>


                <p class="texto_eliminar_pedido">
                    <span class="texto_pedido_completo">
                        Para eliminar el pedido completo <a href="javascript:;" class="link_eliminar_pedido" title="Haz click aquí" onclick="MostrarEliminarPedidoTotal();">haz click aquí</a>
                    </span>
                </p>


                <div class="clear"></div>
            </div>
            <div class="clear"></div>
            <div class="datos_para_movil" style="display: none;">
                <p class="productos_ingresados_movil">
                    <span class="icon-mobile"><img src="@Url.Content("~/Content/Images/mobile-pedido.png")" alt="Alternate Text" /></span><b> Productos ingresados desde tu móvil.</b>
                </p>
            </div>

            <div class="contenedor_banners">
                <ul>
                    <li data-id="1" data-name="Productos Descontinuados" data-position="pedido-inferior-1">
                        <a onclick="AnalyticsBannersInferiores({ id: '1', name: 'Productos Descontinuados', position: 'pedido-inferior-1' })" href="@Model.accionBanner_01" title="Productos Descontinuados" target="_blank">
                            <div class="imagen_banner_inferior">
                                <img data-src="@Model.UrlBanner01" alt="Descúbrelos aquí" data-lazy-seccion-banner-pedido="" />
                            </div>
                            <div class="nombre_banner_inferior">DESCÚBRELOS AQUÍ</div>
                        </a>
                    </li>

                    @if (Model.CodigoIso == Constantes.CodigosISOPais.Venezuela)
                    {
                        <li data-id="2" data-name="Monto Mínimo" data-position="pedido-inferior-2">
                            <a onclick="AnalyticsBannersInferiores({ id: '2', name: 'Monto Mínimo', position: 'pedido-inferior-2' })" href="javascript:;" title="Monto Mínimo">
                                <div class="imagen_banner_inferior">
                                    <img data-src="@Model.UrlBanner02" alt="Monto Mínimo" data-lazy-seccion-banner-pedido="" />
                                </div>
                                <div class="nombre_banner_inferior">MONTO MÍNIMO</div>
                            </a>
                        </li>
                    }
                    else
                    {
                        <li data-id="3" data-name="Liquidaciones Web" data-position="pedido-inferior-3">
                            <a onclick="AnalyticsBannersInferiores({ id: '3', name: 'Liquidaciones Web', position: 'pedido-inferior-3' })" href="@Url.Action("OfertasLiquidacion", "OfertaLiquidacion")" title="Liquidaciones Web">
                                <div class="imagen_banner_inferior">
                                    <img data-src="@Model.UrlBanner02" alt="Entérate aquí" data-lazy-seccion-banner-pedido="" />
                                </div>
                                <div class="nombre_banner_inferior">ENTÉRATE AQUÍ</div>
                            </a>
                        </li>
                    }

                    <li data-id="4" data-name="Productos Agotados" data-position="pedido-inferior-4">
                        <a onclick="AnalyticsBannersInferiores({ id: '4', name: 'Productos Agotados', position: 'pedido-inferior-4' }); CargarProductoAgotados(1);" href="javascript:;" title="Productos Agotados">
                            <div class="imagen_banner_inferior">
                                <img data-src="@Model.UrlBanner03" alt="Infórmate aquí" data-lazy-seccion-banner-pedido="" />
                            </div>
                            <div class="nombre_banner_inferior">INFÓRMATE AQUÍ</div>
                        </a>
                    </li>
                </ul>
                <div class="clear"></div>
            </div>
            @if (ViewBag.MostrarPedidosPendientes == "1")
            {
                <div id="infoPendientes" style="background:white; display: none;">
                    <div class="content_datos_pendientes">
                        <div class="texto_gris_popup padding_tabla_pendientes dinamicostablegrande">Tipo y nombre de Cliente</div>
                        <div class="texto_gris_popup padding_tabla_pendientes dinamicostablegrande">Origen</div>

                        <div class="texto_gris_popup padding_tabla_pendientes dinamicostable">Fecha Registro</div>
                        <div class="texto_gris_popup padding_tabla_pendientes dinamicostablemedio">Precio Total</div>
                        <div class="texto_gris_popup padding_tabla_pendientes dinamicostablegrande">Acción</div>
                    </div>
                    <div class="linea_separadora" style="margin-top:-1px"></div>
                    <div>
                        <div id="divPedidosPend"> </div>
                    </div>
                    <div class="tiempo_atencionPedido">
                        <span class="icono_notaDemanda"></span>
                        <span>Sólo tienes 24 horas para atender los pedidos. No pierdas esta oportunidad de hacer nuevos clientes.</span>
                    </div>
                    <div class="revision_pedidosAceptados">
                        <span class="texto_revisaPedidos">Revisa tus pedidos aceptados en:</span>
                        <span class="icono_consultoraOnline"></span>
                        <span class="texto_misPedidosClientesOnline" style="cursor: pointer;" onclick="MostrarMisPedidosConsultoraOnline();">MIS PEDIDOS DEL <b>APP DE CATÁLOGOS</b></span>
                    </div>

                    <div style="display: none;">
                        @using (Html.BeginForm("", "", FormMethod.Post, new { id = "frmConsultoraOnline" }))
                        {
                            <input type="hidden" name="lanzarTabConsultoraOnline" value="true">
                        }
                    </div>
                </div>
            }
        </div>
    </div>

    <div class="flexiPago_belcorp">
        @if (Model.IndicadorFlexiPago == 1)
        {
            if (Model.LineaCredito == 0)
            {
                <label id="lblPBFlexipago" style="display: none;">@Model.Simbolo @Model.FormatoPedidoBase</label>
            }
            else
            {
                <div class="flexiPago_img">
                    <img src="@Url.Content("~/Content/Images/flexipago_img.jpg")" alt="Alternate Text" />
                </div>
                <div class="pedidoBase_lineaCredito">
                    <span>
                        <p>Pedido Base</p>
                        <p><label id="lblPBFlexipago">@Model.Simbolo @(Model.PaisID == 4 ? string.Format("{0:#,##0}", Model.PedidoBase) : string.Format("{0:#,##0.00}", Model.PedidoBase))</label></p>
                    </span>
                    <span>
                        <p>Línea de Crédito</p>
                        <p>@Model.Simbolo @(Model.PaisID == 4 ? string.Format("{0:#,##0}", Model.LineaCredito) : string.Format("{0:#,##0.00}", Model.LineaCredito))</p>
                    </span>
                </div>
                <div class="clear"></div>
            }
        }
    </div>

    <div id="divListaEstrategias" class="caja_carousel_productos">
        @if (ViewBag.MostrarPedidosPendientes == "1")
        {
            <div class="truco_bloqueo sim2"></div>
        }
        @Html.Partial("~/Views/Pedido/_PartialSectionBpt.cshtml", Model.PartialSectionBpt)
    </div>

    <div class="clear"></div>
    <hr class="clear" />
</div>

<div class="contenedor_popup_agregarCliente mis_clientes" id="divAgregarCliente">
    <div class="popup_agregarCliente">
        <div id="divDetalleCliente"></div>
    </div>
</div>

<div class="contenedor_fondo_popup_ganancia" id="popupGanancias" style="display:none;">
    <div class="popup_mis_ganancias">
        <div class="btn_cerrar_actualizarMisDatos">
            <a href="javascript:;" title="Cerrar" class="cerrar_tutorial" onclick="return $('#popupGanancias').fadeOut(200);">
                <img src="@Url.Content("~/Content/Images/btn_cerrar_popup.svg")" alt="Cerrar" />
                <span class="texto_btn_cerrar">CERRAR</span>
            </a>
        </div>
        <div class="contenido_misGanancias" id="detalleGanancia">
            <h6>GANANCIA ESTIMADA TOTAL</h6>
            <div class="mis_descuentos">
                <span class="mis_descuentos_texto">Mis descuentos</span>
                <span class="mis_descuentos_monto" data-montoahorrocatalogo>@Model.Simbolo @Model.FormatoMontoAhorroCatalogo</span>
            </div>
            <div class="mis_descuentos">
                <span class="mis_descuentos_texto">Oportunidad de ahorro (Revista y otros)</span>
                <span class="mis_descuentos_monto" data-montoahorrorevista>@Model.Simbolo @Model.FormatoMontoAhorroRevista</span>
            </div>
            <div class="separador_montos_misGanancias"></div>
            <div class="mis_descuentos">
                <span class="monto_total_misGanancias" data-ganancia2>@Model.Simbolo @Model.FormatoMontoGanancia</span>
            </div>
            <div class="nota_popup_misGanancias">
                <span>*Oportunidad de ahorro= ahorro estimado proveniente de la resta de los precios en catálogo de los productos menos el monto a pagar de los mismos.</span>
            </div>
        </div>
    </div>
</div>
<div class="contenedor_fondo_popup contenedor_fondo_popup_oscuro fondo_tutorial" id="popup_tutorial_pedido" style="display: none;">
    <div class="popup_tutorial_pedido" style="position: relative; margin: 0 auto; display: block; min-width: 900px !important;">
        <div id="slide1_container" class="shadow">
            <div id="slide1_images">
                @if (ViewBag.CodigoISODL == Constantes.CodigosISOPais.Peru ||
                     ViewBag.CodigoISODL == Constantes.CodigosISOPais.Colombia)
                {
                    <div class="imagen_tutorial img_slide1Pedido fondo1Pedido"></div>
                    <div class="imagen_tutorial img_slide2Pedido fondo2Pedido"></div>
                    <div class="imagen_tutorial img_slide3Pedido fondo3Pedido"></div>
                    <div class="imagen_tutorial img_slide4Pedido fondo4Pedido"></div>
                    <div class="imagen_tutorial img_slide5Pedido fondo5Pedido"></div>
                }
                else
                {
                    <div class="imagen_tutorial img_slide1Pedido"></div>
                    <div class="imagen_tutorial img_slide2Pedido"></div>
                    <div class="imagen_tutorial img_slide3Pedido"></div>
                    <div class="imagen_tutorial img_slide4Pedido"></div>
                    <div class="imagen_tutorial img_slide5Pedido"></div>
                }
            </div>
        </div>
        <div class="btn_cerrar_actualizarMisDatos">
            <a href="#" title="Cerrar" class="cerrar_tutorial">
                <img src="@Url.Content("~/Content/Images/btn_cerrar_popup.svg")" alt="Cerrar" />
                <span class="texto_btn_cerrar">CERRAR</span>
            </a>
        </div>
    </div>
</div>

<div id="DialogMensajes" style="display: none;">
    <div class="terminos_title_2">
        MENSAJE
    </div>
    <div class="linea_superior margin_10"></div>
    <div class="pop_pedido_mensaje">
    </div>
</div>

<div id="divConfirmEliminarTotal" style="display: none;">
    <div class="terminos_title_2">
        IMPORTANTE
    </div>

    <div class="pop_pedido_mensaje">
        ¿Deseas eliminar el pedido completo?.
    </div>
    <div style="text-align: center; margin-top: 30px;">
        <input id="btnEliminarPedidoCompletoNo" type="button" value="No" onclick="EliminarPedidoTotalNo()" class="input_modifica_horizontal" style="width: 100px; margin-left: 0;" />
        <input id="btnEliminarPedidoCompletoSi" type="button" value="Si" onclick="EliminarPedidoTotalSi()" class="input_modifica_horizontal" style="width: 100px; margin-left: 20px;" />
    </div>
</div>

<div id="divAvisoEliminarRegaloGenerico" style="display: none;">
    <div class="terminos_title_2">
        IMPORTANTE
    </div>
    <div id="dataEliminar" data-campaniaId="" data-pedidoId="" data-pedidoDetalleId="" data-tipoOfertaSisId="" data-cuv=""
         data-cantidad="" data-clienteId="" data-cuvReco="" data-esBackOrder=""></div>

    <div class="pop_pedido_mensaje">
        ¿Estás segura que quieres eliminar el producto?<br /><br />
        Recuerda que tienes un premio ganado, si eliminas este producto podrías perderlo.<br /> ¿Deseas continuar?
    </div>
    <div style="text-align: center; margin-top: 30px;">
        <input id="btnEliminarPedidoCompletoNo" type="button" value="No" onclick="CerrarAvisoEliminarRegalo()" class="input_modifica_horizontal" style="width: 100px; margin-left: 0;" />
        <input id="btnEliminarPedidoCompletoSi" type="button" value="Si" onclick="ContinuarEliminacion()" class="input_modifica_horizontal" style="width: 100px; margin-left: 20px;" />
    </div>
</div>
<input type="hidden" id="hdfAccionPROL" value="@Model.Prol" />
<input type="hidden" id="hdfReserva" value="@Model.Reserva" />
<input type="hidden" id="hdfModificaPedido" value="@Model.EsModificacion" />
<input type="hidden" id="hdfZonaValida" value="@Model.ZonaValida" />
<input type="hidden" id="hdMontoAhorroCatalogo" value="@Model.MontoAhorroCatalogo" />
<input type="hidden" id="hdMontoAhorroRevista" value="@Model.MontoAhorroRevista" />
<input type="hidden" id="hdMontoDescuento" value="@Model.MontoDescuento" />
<input type="hidden" id="hdMontoEscala" value="@Model.MontoEscala" />
<input type="hidden" id="hdDataBarra" value="@Newtonsoft.Json.JsonConvert.SerializeObject(Model.DataBarra)" />
<input type="hidden" id="hdListaEscala" value="@Newtonsoft.Json.JsonConvert.SerializeObject(Model.DataBarra.ListaEscalaDescuento)" />
<input type="hidden" id="hdEsFacturacion" value="@Model.EsFacturacion.ToString()" />
<input type="hidden" id="hdOfertaFinal" value="@Model.OfertaFinal" />
<input type="hidden" id="hdEsOfertaFinalZonaValida" value="@Model.EsOfertaFinalZonaValida.ToString()" />
<input type="hidden" id="hdOfertaFinalGanaMas" value="@Model.OfertaFinalGanaMas" />
<input type="hidden" id="hdEsOFGanaMasZonaValida" value="@Model.EsOFGanaMasZonaValida.ToString()" />
<input type="hidden" id="hdMontoMinimo" value="@Model.MontoMinimo" />
<input type="hidden" id="hdMontoMaximo" value="@Model.MontoMaximo" />
<input type="hidden" id="hdListaParametriaOfertaFinal" value="@Newtonsoft.Json.JsonConvert.SerializeObject(Model.ListaParametriaOfertaFinal)" />
<input type="hidden" id="hdEsConsultoraNueva" value="@Model.EsConsultoraNueva.ToString()" />

<div id="divObservacionesPROL" style="display: none;">

    <div id="divTituloObservacionesPROL" class="terminos_title_2">
    </div>

    <div id="divMensajeObservacionesPROL" class="pop_pedido_mensaje_prol">
    </div>
    <div class="div-3" style="text-align: center;">
        <div id="DivObsBut">
            <input id="btnCerrar" type="button" value="Cerrar" onclick="$('#divObservacionesPROL').dialog('close');" class="input_modifica_horizontal" style="margin-left: 0;" />
        </div>
    </div>
</div>

<div id="divConfirmValidarPROL" style="display: none;">
    <div class="terminos_title_2">
        Importante
    </div>
    <div class="linea_superior margin_10"></div>
    <div class="pop_pedido_mensaje">
        <ul>
            <li>Al hacer click en el botón <b>"Validar"</b> estás validando nuevamente tu pedido, incluyendo lo agregado o modificado recientemente.</li>
            <li>Al hacer click en el botón <b>"No validar"</b> se mantendrá tu pedido validado con éxito y no se considerarán los productos que has agregado o modificado recientemente.</li>
        </ul>
    </div>
    <div style="text-align: center; margin-top: 30px;">
        <input id="btnNoValidarConfirm" type="button" value="No Validar" onclick="ConfirmNoValidar()" class="input_modifica_horizontal" style="width: 120px; margin-left: 0;" />
        <input id="btnValidarConfirm" type="button" value="Validar" onclick="EjecutarPROL2()" class="input_modifica_horizontal" style="width: 120px; margin-left: 20px;" />
    </div>
</div>

<div id="divReservaSatisfactoria" style="display: none;">
    <div class="terminos_title_2">
        Felicitaciones
    </div>
    <div class="linea_superior margin_10"></div>
    <div class="pop_pedido_mensaje">
        <p>¡Lo lograste! Tu pedido fue reservado con éxito.</p>
    </div>
</div>

<div id="divReservaSatisfactoria2" style="display: none;">
    <div class="terminos_title_2">
        Felicitaciones
    </div>
    <div class="linea_superior margin_10"></div>
    <div class="pop_pedido_mensaje">
        Los productos que agregaste o modificaste no serán considerados en tu pedido.
    </div>
</div>

<div id="divReservaSatisfactoria3" style="display: none;">
    <div class="terminos_title_2">
        Felicitaciones
    </div>
    <div class="linea_superior margin_10"></div>
    <div class="pop_pedido_mensaje">
        ¡Lo lograste! Tu pedido fue guardado con éxito.
    </div>
    <div style="text-align: center; margin-top: 30px;">
        <input type="button" value="Cerrar" onclick="$('#divReservaSatisfactoria3').dialog('close');" class="input_modifica_horizontal" style="margin-left: 0;" />
    </div>
</div>

<div id="divBackOrderModificado" style="display: none;">
    <div class="terminos_title_2">
        IMPORTANTE
    </div>
    <div class="linea_superior margin_10"></div>
    <div class="pop_pedido_mensaje">
        Recuerda que debes volver a validar tu pedido.
    </div>
    <div style="text-align: center; margin-top: 30px;">
        <input type="button" value="Cerrar" onclick="$('#divBackOrderModificado').dialog('close');" class="input_modifica_horizontal" style="margin-left: 0;" />
    </div>
</div>

<div id="loadingScreen"></div>

<input id="hdnProgramaOfertaNuevo" type="hidden" value="" />
<input id="OfertaTipoNuevo" type="hidden" value="" />

<div id="divVistaPrevia" class="Content_modal_ZE" style="display: none; background-color: #fff; overflow: hidden;">
    <div class="Content_modal_ZE texto-centrado" style="overflow: hidden;">
        <div style="position: absolute; width: 100%;">
            <img id="imgTipoOfertaEdit" style="float: left;" src="@Url.Content("~/Content/Images/oferta.png")">
        </div>
        <div style="position: absolute; width: 100%;">
            <img id="imgEstrellaEdit" style="float:left; margin-top:10px; width:23px; height:23px; margin-left:10px" src="@Url.Content("~/Content/Images/star_reco.png")">
        </div>
        <img id="imgZonaEstrategiaEdit" style="height: 200px; margin: 5px;" src="" alt="Imagen Producto" />
    </div>
    <br />
    <div class="zona0Edit pedidos_datos_titulo"></div>
    <div class="zona1Edit pedidos_datos_info texto-centrado" style="width:100%"></div>
    <div class="zona2Edit texto-centrado"></div>
    <div class="zona3Edit_1 pedidos_para_ti texto-centrado"></div>
    <div class="zona3Edit_2 liquidacion_precio texto-centrado"></div>
    <br />
    <ul id="OfertasResultados" class="listaOfertas"></ul>

    <div class="zona4Edit zona_estrategia_4 texto-centrado"></div>
    <div class="zonaCantidad texto-centrado">
        <table style="margin: 0 auto;" cellpadding="10" cellspacing="10">
            <tr>
                <td style="vertical-align: middle;">Unidades: &nbsp;&nbsp;</td>
                <td>
                    <div class="liquidacion_rango_home" data-cantidad-contenedor="">
                        <input type="text" value="1" size="2" maxlength="2" data-input="cantidad" class="liquidacion_rango_cantidad_pedido ValidaNumeral" name="txtCantidadZE" id="txtCantidadZE" />
                        <div class="liquidacion_rango_right_pedido">
                            <a class="mas" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)"><img src="@Url.Content("~/Content/Images/Esika/mas.png")" alt="" /></a>
                            <a class="menos" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)"><img src="@Url.Content("~/Content/Images/Esika/menos.png")" alt="" /></a>
                        </div>
                    </div>
                </td>
            </tr>
            <tr class="tallaColor">
                <td style="vertical-align: middle;">Talla/Color: &nbsp;&nbsp;</td>
                <td>
                    <select id="ddlTallaColor" style="width: 130px; height: 30px; border: 1px solid #cccccc;"></select>
                </td>
            </tr>
        </table>
    </div>
    <br />
    <div class="div-3 texto-centrado">
        <input class="btnBotonRojo" type="button" value="Agregar" onclick="javascript: AgregarProductoDestacado(this);" />
        <br />
        <input class="btnBotonNegro" type="button" value="Cerrar" onclick="javascript: $('#divVistaPrevia').dialog('close');" />
    </div>
</div>

<div class="contenedor_popup_agregarUnidades contenedor_popup_error" id="dialog_divReservaSatisfactoria" style="display: none;">
    <div class="popup_agregarUnidades">
        <div class="btn_cerrar_agregarUnidades">
            <a href="javascript:;" onclick="return $('#dialog_divReservaSatisfactoria').hide();">
                <img src="@Url.Content("~/Content/Images/btn_cerrar_popup.png")" alt="Cerrar" />
                <span class="texto_btn_cerrar">CERRAR</span>
            </a>
        </div>
        <div class="contenido_popUp">
            <div class="icono_mensaje_alerta icono_check_alerta" id="ofIconoSuperior" style="margin-bottom: 20px;"></div>
            <h1 class="titulo_agregarUnidades"><b>¡LO LOGRASTE!</b></h1>
            <div id="mensajedivReservaSatisfactoria" class="mensaje_agregarUnidades">
                <p>Tu pedido fue reservado con éxito.</p>
            </div>
            <button type="button" name="btn_ok" class="btn_ok" onclick="return $('#dialog_divReservaSatisfactoria').hide();">
                OK
            </button>
        </div>
    </div>
</div>
<div class="contenedor_popup_productosAgotados" id="divProductoAgotado" style="display: none;">
    <div class="popup_productosAgotados">
        <div class="btn_cerrar_agregarUnidades">
            <a href="javascript:void(0);" onclick="CerrarProductoAgotados()">
                <img src="@Url.Content("~/Content/Images/btn_cerrar_popup.svg")" alt="Cerrar" />
                <span class="texto_btn_cerrar">CERRAR</span>
            </a>
        </div>
        <div class="contenedor_lista_productosAgotados">
            <h6>PRODUCTOS <b>AGOTADOS</b> de <b>@((string)ViewBag.Campania.ToUpper())</b></h6>

            <div class="content_cuv">
                <section>
                    <div class="filtroInput">
                        <label for="ddlCategoriaProductoAgotado">Categoria</label>
                        <select id="ddlCategoriaProductoAgotado" class="producto_faltante"></select>
                    </div>
                    <div class="filtroInput">
                        <label for="producto-faltante-busqueda-cuv">CUV</label>
                        <input id="producto-faltante-busqueda-cuv" type="text" class="producto_faltante ValidaNumeralPedido" maxlength="5">
                    </div>
                    <div class="filtroInput">
                        <label for="producto-faltante-busqueda-descripcion">Producto</label>
                        <input id="producto-faltante-busqueda-descripcion" type="text" class="producto_faltante">
                    </div>
                    <div class="filtroInput">
                        <label for="ddlCatalogoRevistaProductoAgotado">Catalogo o Revista</label>
                        <select id="ddlCatalogoRevistaProductoAgotado" class="producto_faltante"></select>
                    </div>
                    <div class="filtroButton">
                        <input type="button" onclick="CargarProductoAgotados(0);" class="buscar_icono">
                    </div>
                    <br style="clear:both;" />
                </section>
            </div>

            <div class="tabla_productos_agotados" id="tblProductosFaltantes" style="overflow-y:hidden;"></div>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div class="contenedor_popup_productosSugeridos1" id="divProductoAgotadoFinal" style="display:none;">
    <div class="popup_productosSugeridos" style="height:456px;">
        <div class="mensaje_noExisteProducto">
            <div class="btn_cerrar_productosSugeridos">
            </div>
            <h1>LO SENTIMOS, SE AGOTÓ EL PRODUCTO</h1>
        </div>
        <div>
            <div class="contenedor_productosSugeridos">
                <div>
                    <h5>PRUEBA REEMPLAZARLO CON ALGUNO DE ÉSTOS</h5>
                </div>
                <div data-close="divProductoAgotadoFinal">
                    <h5>NO, GRACIAS</h5>
                    <span class="btn_cerrar_opcionNoGracias">
                        <a href="#">
                            <img src="@Url.Content("~/Content/Images/cerrar_04.png")" alt="Alternate Text" />
                        </a>
                    </span>
                </div>
                <div class="clear"></div>
            </div>
            <div style=" margin-left:27px; margin-right:27px; position:relative; bottom:19px;">
                <div class="slider center" id="divCarruselSugerido" style="float:left;height:auto;">
                </div>
                <div class="clear"></div>
            </div>
            <div class="clear"></div>
        </div>

        <div class="clear"></div>
    </div>
</div>
<div class="contenedor_popup_ofertaFinal center_text" id="divOfertaFinal" data-popup-main="" data-popup-function-hide="PopupOfertaFinalCerrar">
</div>
<div class="contenedor_popup_ofertaFinal" id="contenedor_popup_ofertaFinalVerDetalle" style="display: none;">
    <div class="popup_ofertaFinal" style="padding:35px;">
        <a class="btn_cerrar_escala" href="javascript:;" onclick="javascript: $('#contenedor_popup_ofertaFinal').hide();">REGRESAR</a>
        <hr class="clear" />
        <div class="content_left_ficha">
            <div class="content_ficha_producto" style="width:97%; height:auto; margin:0 auto;">
                <img id="fav_imagen_prod" class="imagen_producto" src="https://s3-sa-east-1.amazonaws.com/appcatalogo/PE/201703/L/productos/PE_200074844.jpg" alt="PRODUCTO">
            </div>
            <div class="compartir_redes_ficha">
                <div class="texto_compartelo">Compártelo con tus clientes</div>
                <a class="btn_compartir_facebook_ficha"><img src="@Url.Content("~/Content/Images/Mobile/Esika/facebook.png")" /></a>
                <a class="btn_compartir_facebook_ficha"><img src="@Url.Content("~/Content/Images/Esika/mensaje_ficha.png")" /></a>
                <hr class="clear" />
            </div>
        </div>
        <div class="content_right_ficha">
            <div style="height:130px;">
                <div class="titulo_ficha_producto">Essential Limpiadora. Cutis Graso</div>
                <div class="peso_ficha_producto">180 ml e 6 fl. oz</div>
                <div class="descripcion_ficha_producto" style="margin-top:10px;">Liso absoluto todo el día con exquisita fragancia a jazmín.</div>
                <div class="precio_ficha_producto">
                    <span class="precio_tachado_ficha">S/. 70.00</span>S/. 49.00
                </div>
            </div>
            <div style="height:196px;">
                <div class="opcion_escala_descuento">
                    <div class="texto_producto_relacionado">
                        Cómpralo porque ya tienes <b>Shampoo Essens para cabello liso</b>   en tu pedido
                    </div>
                    <div class="imagen_relacionada">
                        <img src="https://s3-sa-east-1.amazonaws.com/appcatalogo/PE/201703/L/productos/PE_200074844.jpg" alt="PRODUCTO">
                    </div>
                    <hr class="clear" />
                </div>
            </div>
            <div class="liquidacion_rango_home" data-cantidad-contenedor="">
                <input type="text" value="1" size="2" maxlength="2" class="liquidacion_rango_cantidad_pedido ValidaNumeral ValidaPasteNumeral" data-input="cantidad" data-cantidad-input="-">
                <div class="liquidacion_rango_right_pedido">
                    <a class="mas" data-cantidad-agregar="+" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)"><img src="/Content/Images/Esika/mas.png" alt=""></a>
                    <a class="menos" data-cantidad-agregar="-" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)"><img src="/Content/Images/Esika/menos.png" alt=""></a>
                </div>
            </div>
            <a class="boton_Agregalo_home ficha_btn_agregar" style="width:238px;">
                AGRÉGALO
            </a>
        </div>
        <hr class="clear" />
    </div>
</div>

<div class="contenedor_popup_detalleCarousel" id="popupDetalleCarousel_lanzamiento"></div>

@Html.Partial("~/Views/Shared/Cupon/popupCuponGana.cshtml")
@Html.Partial("~/Views/Shared/Cupon/popupCuponConfirmar.cshtml")
@Html.Partial("~/Views/Shared/Cupon/popupCuponGanaste.cshtml")

@if (Model.MostrarPopupPrecargados)
{
    <div class="contenedor_popup_agregarUnidades" id="dialog_mensajeProductosPrecargados" style="display: block;">
        <div class="popup_agregarUnidades">
            <div class="btn_cerrar_agregarUnidades">
                <a id="aceptandoPendientes_1" onclick="$('#dialog_mensajeProductosPrecargados').hide()">
                    <img src="/Content/Images/btn_cerrar_popup.svg" alt="Cerrar">
                </a>
            </div>
            <div class="contenido_popUp aceptaPedido">
                <div class="icono_exclamacion" id="apro_o_excla_1"></div>
                <h1 class="titulo_agregarUnidades"><b>IMPORTANTE</b></h1>
                <span class="mensaje_agregarUnidades">
                    @Html.Raw(Constantes.RecuperacionPedido.Mensaje)
                </span>
                <button type="button" class="btn_ok ok_aceptaPedido" onclick="$('#dialog_mensajeProductosPrecargados').hide()">
                    Aceptar
                </button>
            </div>
        </div>
    </div>
}

@if (ViewBag.MostrarPedidosPendientes == "1")
{
    <div id="popup_pendientes" class="contenedor_popup_percepciones" style="display: none;">
        <div class="popup_Pendientes">
            <div class="cubre"></div>

            <input type="hidden" id="hdIdComprobantePercepcion">

            <div class="btn_cerrar_popupPercepcion">
                <a class="regresaPendientes" title="Regresar" style="text-align: right;">
                    <div class="icono_regresar"><img src="/Content/Images/btn_regresar.svg" alt="Regresar"></div>
                    <div class="texto_btn_regresar">REGRESAR</div>
                </a>
            </div>

            <div id="divPopupPedidoPend"></div>

        </div>
    </div>

    <div class="contenedor_popup_agregarUnidades" id="dialog_mensajeComoAtender" style="display: none;">
        <div class="popup_agregarUnidades">

            <div class="btn_cerrar_agregarUnidades">
                <a id="aceptandoPendientes_1" onclick="$('#dialog_mensajeComoAtender').hide()">
                    <img src="/Content/Images/btn_cerrar_popup.svg" alt="Cerrar">
                </a>
            </div>
            <div class="contenido_popUp aceptaPedido">
                <div class="icono_exclamacion" id="apro_o_excla_1"></div>
                <h1 class="titulo_agregarUnidades"><b>IMPORTANTE</b></h1>
                <span class="mensaje_agregarUnidades">Por favor elige cómo atenderás todos los productos del pedido.</span>
                <button type="button" class="btn_ok ok_aceptaPedido" onclick="$('#dialog_mensajeComoAtender').hide()">
                    OK
                </button>
            </div>
        </div>
    </div>

    <div id="popup2_pendientes" class="contenedor_popup_percepciones popupPendientesPORTAL" style="display: none;">
        <div class="popup_Pendientes">
            <div class="cubre cubre2"></div>

            <input type="hidden" id="hdIdComprobantePercepcion">

            <div class="btn_cerrar_popupPercepcion cerrarPendientesPORTAL">
                <a class="regresaPendientes" title="Regresar" style="text-align: right;">
                    <div class="icono_regresar"><img src="/Content/Images/btn_regresar.svg" alt="Regresar"></div>
                    <div class="texto_btn_regresar">REGRESAR</div>
                </a>
            </div>

            <div id="divPopup2PedidoPend"></div>
        </div>
    </div>

    <div class="truco_bloqueo sim1"></div>
    <div class="truco_bloqueo sim3"></div>
    <div class="truco_bloqueo sim4"></div>

    <div class="contenedor_popup_agregarUnidades" id="dialog_confirmacionRechazo" style="display: none;">
        <div class="popup_rechazarPendientes">
            <input type="hidden" id="hdePedidoIdRechazo" />
            <div class="btn_cerrar_agregarUnidades">
                <a id="cierreRechazoPendientes" onclick="$('#dialog_confirmacionRechazo').hide()">
                    <img src="/Content/Images/btn_cerrar_popup.svg" alt="Cerrar">
                </a>
            </div>
            <div class="contenido_popUp confirmacionRechazo">
                <div class="icono_exclamacion" id="apro_o_excla"></div>
                <h1 class="titulo_confirma"><b>¿VAS A RECHAZAR EL PEDIDO?</b></h1>
                <span class="mensaje_agregarUnidades">Si rechazas el pedido vas a perderlo</span>
                <button type="button" class="btn_eliminarCliente venizquierda sedetiene" onclick="$('#dialog_confirmacionRechazo').hide()">
                    NO, DÉJAME VERLO
                </button>
                <button type="button" class="btn_eliminarCliente venderecha prosigue" onclick="ShowPopupMotivoRechazo()">
                    SÍ, RECHAZO EL PEDIDO
                </button>
            </div>
        </div>
    </div>

    <div class="contenedor_popup_agregarUnidades" id="dialog_mensajeRechazado" style="display: none;">
        <div class="popup_rechazarPendientes">

            <div class="btn_cerrar_agregarUnidades">
                <a id="cierreRechazoPendientes" onclick="$('#dialog_mensajeRechazado').hide()">
                    <img src="/Content/Images/btn_cerrar_popup.svg" alt="Cerrar">
                </a>
            </div>
            <div class="contenido_popUp confirmacionRechazo">
                <div class="icono_exclamacion" id="apro_o_excla"></div>
                <h1 class="titulo_confirma"><b>RECHAZASTE</b> EL PEDIDO</h1>
                <span class="mensaje_agregarUnidades">Ya esta eliminado de tu lista de pendientes.</span>
                <button type="button" class="btn_ok ok_aceptaPedido" onclick="CerrarMensajeRechazado()">
                    OK
                </button>
            </div>
        </div>
    </div>

    <div class="contenedor_popup_agregarUnidades" id="dialog_motivoRechazo" style="display: none;">
        <div class="popup_agregarUnidades mrechaza">
            <div class="btn_cerrar_agregarUnidades">
                <a id="cierreMotivoRechazo" onclick="RechazarPedido();">
                    <img src="/Content/Images/btn_cerrar_popup.svg" alt="Cerrar">
                </a>
            </div>
            <div class="contenido_popUp motivoRechazo">

                <input type="hidden" name="SolicitudId" id="SolicitudId" />
                <input type="hidden" name="NumIteracion" id="NumIteracion" />
                <input type="hidden" name="CodigoUbigeo" id="CodigoUbigeo" />
                <input type="hidden" name="Campania" id="Campania" />
                <input type="hidden" name="MarcaID" id="MarcaID" />
                <h1 class="titulo_mensajeMotivoRechazo"><b>¡CUÉNTANOS PORQUÉ LO RECHAZASTE!</b></h1>

                @foreach (var motivoRechazo in ViewBag.MotivosRechazo)
                {
                    <div class="optionsRechazo" data-id="@motivoRechazo.MotivoSolicitudID">@motivoRechazo.Motivo</div>
                }

                <textarea id="txtOtrosRechazo" placeholder="" readonly="readonly" maxlength="300"></textarea>
            </div>
            <button type="button" class="btn_eliminarCliente btn-negro" id="btnRechazarPedido" onclick="RechazarPedido()">
                ENVIAR
            </button>
        </div>
    </div>

    <div class="contenedor_popup_agregarUnidades" id="dialog_aceptasPendientes" style="display: none;">
        <div class="popup_agregarUnidades">
            <input type="hidden" id="hdePedidoIdAcepto" />
            <div class="btn_cerrar_agregarUnidades">
                <a id="aceptandoPendientes" onclick="$('#dialog_aceptasPendientes').hide()">
                    <img src="/Content/Images/btn_cerrar_popup.svg" alt="Cerrar">
                </a>
            </div>
            <div class="contenido_popUp aceptaPedido">
                <div class="icono_aprobacion" id="apro_o_excla"></div>
                <h1 class="titulo_agregarUnidades">PEDIDO <b>ACEPTADO</b></h1>
                <span class="mensaje_agregarUnidades" id="msgPedidoAceptado1">No te olvides de coordinar la entrega de los productos.</span>
                <button type="button" class="btn_ok ok_aceptaPedido" onclick="CerrarMensajeAceptado(1);">
                    OK
                </button>
            </div>
        </div>
    </div>

    <div class="contenedor_popup_agregarUnidades" id="dialog2_aceptasPendientes" style="display: none;">
        <div class="popup_agregarUnidades">
            <input type="hidden" id="hdePedidoIdAcepto" />
            <div class="btn_cerrar_agregarUnidades">
                <a id="aceptandoPendientes" onclick="$('#dialog2_aceptasPendientes').hide()">
                    <img src="/Content/Images/btn_cerrar_popup.svg" alt="Cerrar">
                </a>
            </div>
            <div class="contenido_popUp aceptaPedido">
                <div class="icono_aprobacion" id="apro_o_excla"></div>
                <h1 class="titulo_agregarUnidades">PEDIDO <b>ACEPTADO</b></h1>
                <span class="mensaje_agregarUnidades">No te olvides de ingresar en tu pedido los productos de este cliente.</span>
                <button type="button" class="btn_ok ok_aceptaPedido" onclick="CerrarMensajeAceptado(2);">
                    OK
                </button>
            </div>
        </div>
    </div>
    <div class="tapsPedidos"></div>

    <script id="pedidopend-template" type="text/x-handlebars-template">
        {{#each this}}

        <div class="content_datos_percepciones mouse-encima-padding">
            <div class="padding_tabla_percepcion dinamicostablegrande izq grillaPendientes">
                <span class="texto_pedidos_pendientes">
                    {{#if FlagConsultora}}
                    <label> CLIENTE EXISTENTE </label>
                    {{else}}
                    <label> NUEVO CLIENTE </label>
                    {{/if}}
                </span>
                {{Cliente}}
            </div>
            <div class="padding_tabla_percepcion dinamicostablegrande grillaPendientes">
                {{#if_eq MarcaID '0'}}
                {{MedioContacto}}
                {{else}}
                Portal {{Marca}}
                {{/if_eq}}
            </div>

            <div class="padding_tabla_percepcion dinamicostable grillaPendientes">{{FormartoFechaSolicitud}}</div>
            <div class="padding_tabla_percepcion dinamicostablemedio grillaPendientes">{{SimboloMoneda}} {{FormatoPrecioTotal}}</div>
            <div class="padding_tabla_percepcion dinamicostablegrande grillaPendientes">

                <input type="hidden" id="pedidopend_{{PedidoId}}" value="{{PedidoId}}|{{MarcaID}}|{{Campania}}|{{Cliente}}|{{Telefono}}|{{Direccion}}|{{Email}}|{{Mensaje}}|{{Leido}}|{{NumIteracion}}|{{CodigoUbigeo}}|{{FechaSolicitud}}|{{MedioContacto}}|{{FormatoPrecioTotal}}|{{SaldoHoras}}|{{FlagConsultora}}" />
                <button type="button" class="btn_revisalo_pendientes1" onclick="CargarPopupPedidoPend('{{PedidoId}}');">
                    REVÍSALO

                    <div class="info_tiempo_oportunidad">
                        <span class="texto_pedidos_pendientes tips">
                            <label>¡No pierdas esta oportunidad!</label>
                        </span>
                        {{#if FlagConsultora}}
                        <h6 class="tiempos_P">Te quedan <span><b>24:00:00</b></span> horas</h6>
                        {{else}}
                        <h6 class="tiempos_P">Te quedan <span><b>{{SaldoHoras}}</b></span> horas</h6>
                        {{/if}}
                        <h4 class="linkea_Pendientes tooltipPendientes">►REVÍSALO</h4>
                    </div>
                </button>

            </div>
        </div>

        {{/each}}
    </script>

    <script id="popup-pedidopend-template" type="text/x-handlebars-template">
        <div class="content_popUp_Pendientes">
            <div class="mensajes_deAtencion">
                <span>¡No te pierdas esta oportunidad!</span>
                {{#if FlagConsultora}}
                <span>Te quedan <br>24:00:00</span>
                {{else}}
                <span>Te quedan <br>{{SaldoHoras}}</span>
                {{/if}}
                <div class="clear"></div>
            </div>

            <div class="percepcion_campania libero">
                <h1><b>PRIMERO, CONTÁCTATE CON {{Contacto}} ...</b></h1>
                <h5>Tu cliente esta esperando que la contactes. Confirma los productos, precios y forma de entrega.<br>Luego elige como entregarás cada producto para que puedas aceptar todo el pedido.</h5>
            </div>

            <div class="contenedor_bloque_datos">
                <div class="datos_cliente_pendientes">

                    <div class="bloque_datos izq">
                        <div class="nombre_cliente">
                            <span class="AtribCliente">Nombre:</span>
                            <span class="datoPedidoCliente" id="sc-d1-nombre">{{Nombre}}</span>
                        </div>

                        <div class="telefono_cliente">
                            <span class="AtribCliente">Teléfono:</span>
                            <span class="datoPedidoCliente" id="sc-d1-telefono">{{Telefono}}</span>
                        </div>
                    </div>
                    <div class="bloque_datos der">
                        <div class="correo_cliente">
                            <span class="AtribCliente">Correo:</span>
                            <span class="datoPedidoCliente" id="sc-d1-correo">{{Email}}</span>
                        </div>

                        <div class="direccion_cliente">
                            <span class="AtribCliente">Dirección:</span>
                            <span class="datoPedidoCliente">{{Direccion}}</span>
                        </div>
                    </div>
                </div>

            </div>

            <div class="content_datos_pendientes">
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostablemini">Código</div>
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostablemedio">Producto</div>
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostable">Unidades</div>
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostable">Precio Unitario</div>
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostable">Subtotal</div>
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostablegrande">¿Cómo lo Atenderás?</div>
            </div>
            <div class="linea_separadora" style="margin-top:-1px"></div>

            <div style="max-height: 226px; overflow-y:auto;">
                <div id="divDetPedidoPend"> </div>
            </div>

            <div class="linea_separadora" style="height:2px;"></div>

            <div class="calculo_PendientesTotal">
                <h4 class="txtderecha">TOTAL PEDIDO: <span>{{SimboloMoneda}} {{PrecioTotal}}</span></h4>
            </div>

            <div class="linea_separadora_roja" style="height: 2px;"></div>

            <div class="btn_grupo_accionesPedido accionesPendientes">
                <button id="rechazarPendientes" type="button" class="btn_eliminarCliente venizquierda" onclick="ShowPopupRechazoPedido('{{PedidoId}}','1')">
                    RECHAZO EL PEDIDO
                </button>
                <button id="aceptarPendientes" type="button" class="btn_noEliminarCliente venderecha" onclick="AceptarPedido('{{PedidoId}}', '1')">
                    ACEPTO TODO EL PEDIDO
                </button>
            </div>
        </div>
    </script>

    <script id="popup2-pedidopend-template" type="text/x-handlebars-template">
        <div class="content_popUp_Pendientes">
            <div class="mensajes_deAtencion">

                <span>¡No te pierdas esta oportunidad!</span>
                {{#if FlagConsultora}}
                <span>Te quedan<br>00:00:00</span>
                {{else}}
                <span>Te quedan<br>{{SaldoHoras}}</span>
                {{/if}}

            </div>

            <div class="percepcion_campania libero">
                <h1><b>PRIMERO, CONTÁCTATE CON {{Contacto}}...</b></h1>
                <h5>Tu cliente esta esperando que la contactes. Confirma los productos, precios y forma de entrega.<br>Luego elige como entregarás cada producto para que puedas aceptar todo el pedido.</h5>
            </div>

            <div class="contenedor_bloque_datos">
                <div class="datos_cliente_pendientes">

                    <div class="bloque_datos izq">
                        <div class="nombre_cliente">
                            <span class="AtribCliente">Nombre:</span>
                            <span class="datoPedidoCliente" id="sc-d2-nombre">{{Nombre}}</span>
                        </div>

                        <div class="telefono_cliente">
                            <span class="AtribCliente">Teléfono:</span>
                            <span class="datoPedidoCliente" id="sc-d2-telefono">{{Telefono}}</span>
                        </div>
                    </div>
                    <div class="bloque_datos der">
                        <div class="correo_cliente">
                            <span class="AtribCliente">Correo:</span>
                            <span class="datoPedidoCliente" id="sc-d2-correo">{{Email}}</span>
                        </div>

                        <div class="direccion_cliente">
                            <span class="AtribCliente">Dirección:</span>
                            <span class="datoPedidoCliente">{{Direccion}}</span>
                        </div>
                    </div>
                    <div class="bloque_datos izq">
                        <div class="nombre_cliente">
                            <span class="AtribCliente">Comentario:</span>
                            <span class="datoPedidoCliente">{{Comentario}}</span>
                        </div>
                    </div>
                </div>

            </div>

            <div class="content_datos_pendientes">
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostableextragrande izq">Producto</div>
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostableextragrande">Unidades</div>
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostableextragrande">Precio Unitario</div>
                <div class="texto_gris_popup padding_tabla_pendientes dinamicostableextragrande">Subtotal</div>
            </div>
            <div class="linea_separadora" style="margin-top:-1px"></div>
            <div style="max-height:419px; overflow:auto;">
                <div id="divDet2PedidoPend"> </div>
            </div>

            <div class="linea_separadora" style="height:2px;"></div>

            <div class="calculo_PendientesTotal">
                <h4 class="txtderecha">TOTAL PEDIDO: <span>{{SimboloMoneda}} {{PrecioTotal}}</span></h4>
            </div>

            <div class="linea_separadora_roja" style="height: 2px;"></div>

            <div class="btn_grupo_accionesPedido accionesPendientes">
                <button id="rechazarPendientesPORTAL" type="button" class="btn_eliminarCliente venizquierda" onclick="ShowPopupRechazoPedido('{{PedidoId}}', '2')">
                    RECHAZO EL PEDIDO
                </button>
                <button id="aceptarPendientesPORTAL" type="button" class="btn_noEliminarCliente venderecha" onclick="AceptarPedido('{{PedidoId}}', '2')">
                    ACEPTO TODO EL PEDIDO
                </button>
            </div>
        </div>
    </script>

    <script id="detalle-pedidopend-template" type="text/x-handlebars-template">
        {{#each this}}

        <div class="content_datos_percepciones">
            <input type="hidden" value="{{PedidoDetalleId}}" />
            <div class="padding_tabla_percepcion dinamicostablemini">{{CUV}}</div>
            <div class="padding_tabla_percepcion dinamicostablemedio">{{Producto}}</div>
            <div class="padding_tabla_percepcion dinamicostable" id="pedpend-deta2-cantidad">{{Cantidad}}</div>
            <div class="padding_tabla_percepcion dinamicostable">{{SimboloMoneda}} {{PrecioUnitario}}</div>
            <div class="padding_tabla_percepcion dinamicostable">{{SimboloMoneda}} {{PrecioTotal}}</div>
            <div class="padding_tabla_percepcion dinamicostablegrande">
                {{#if_eq TieneStock '1'}}
                <select class="oscurece" id="ddlAtender_{{@@index}}">
                    <option value="" selected>¿CÓMO LO ATENDERAS?</option>
                    <option value="ingrped">INGRESAR A MI PEDIDO</option>
                    <option value="ingrten">YA LO TENGO</option>
                </select>
                {{else}}
                <span>AGOTADO</span>
                {{/if_eq}}
            </div>

            {{#if_eq TieneStock '0'}}
            <div class="notiPendientes"><div class="mensajePendientes"><span class="icono_advertencia_notificacion"></span>{{MensajeValidacion}}</div></div>
            {{else if_eq EstaEnRevista '1'}}
            <div class="notiPendientes"><div class="mensajePendientes"><span class="icono_advertencia_notificacion"></span>{{MensajeValidacion}}</div></div>
            {{/if_eq}}
        </div>

        {{/each}}
    </script>

    <script id="detalle2-pedidopend-template" type="text/x-handlebars-template">
        {{#each this}}

        <div class="content_datos_percepciones">
            <input type="hidden" value="{{PedidoDetalleId}}" />
            <div class="padding_tabla_percepcion dinamicostableextragrande izq">{{Producto}}</div>
            <div class="padding_tabla_percepcion dinamicostableextragrande">{{Cantidad}}</div>
            <div class="padding_tabla_percepcion dinamicostableextragrande">{{SimboloMoneda}} {{PrecioUnitario}}</div>
            <div class="padding_tabla_percepcion dinamicostableextragrande">{{SimboloMoneda}} {{PrecioTotal}}</div>
        </div>

        {{/each}}
    </script>
}

<script id="js-CarruselSugerido" type="text/x-handlebars-template">
    {{#each this}}
    <div class="sugerido" data-item="producto">
        <div class="producto_carousel">
            <div style="display: none;">
                <input type="hidden" class="hdSugeridoCuv" value="{{CUV}}" />
                <input type="hidden" class="hdSugeridoTipoOfertaSisID" value="{{TipoOfertaSisID}}" />
                <input type="hidden" class="hdSugeridoConfiguracionOfertaID" value="{{ConfiguracionOfertaID}}" />
                <input type="hidden" class="hdSugeridoIndicadorMontoMinimo" value="{{IndicadorMontoMinimo}}" />
                <input type="hidden" class="hdSugeridoTipo" value="1" />
                <input type="hidden" class="hdSugeridoMarcaID" value="{{MarcaID}}" />
                <input type="hidden" class="hdSugeridoPrecioUnidad" value="{{PrecioCatalogo}}" />
                <input type="hidden" class="hdSugeridoDescripcionProd" value="{{Descripcion}}" />
                <input type="hidden" class="hdSugeridoPagina" value="0" />
                <input type="hidden" class="hdSugeridoDescripcionCategoria" value="{{DescripcionCategoria}}" />
                <input type="hidden" class="hdSugeridoDescripcionMarca" value="{{DescripcionMarca}}" />
                <input type="hidden" class="hdSugeridoDescripcionEstrategia" value="{{DescripcionEstrategia}}" />
                <input type="hidden" class="hdPosicionSugerido" value="{{posicion}}" />
                <input type="hidden" class="hdTipoEstrategiaID" value="{{TipoEstrategiaID}}" />
            </div>
            <div>
                <div class="producto_imagen">
                    <img src="{{ImagenProductoSugerido}}" alt="" />
                </div>
                <div class="producto_nombre_descripcion">
                    <h6>{{DescripcionMarca}}</h6>
                    <p class="nombre_producto" style="display: inline-table;">
                        <b>{{Descripcion}}</b>
                    </p>
                    <div class="producto_precio">
                        <span class="producto_precio_oferta"><b>{{SimboloMoneda}} {{PrecioCatalogoString}}</b></span>
                    </div>
                </div>
                <div class="clear"></div>
            </div>
            <div class="clear"></div>
            <div class="contenedor_cantidad_producto">
                <div class="liquidacion_rango_wrapper_pedido" data-cantidad-contenedor="">
                    <input type="text" id="txtCantidad" maxlength="2" value="1" class="liquidacion_rango_cantidad_pedido ValidaNumeral ValidaPasteNumeral" data-input="cantidad">
                    <div class="liquidacion_rango_right_pedido">
                        <a class="mas" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)"><img src="/Content/Images/Esika/mas.png" alt=""></a>
                        <a class="menos" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)"><img src="/Content/Images/Esika/menos.png" alt=""></a>
                    </div>
                </div>
                <a href="#" title="Agregar" class="boton_elegirAgregar agregarSugerido">AGREGAR</a>
                <div class="clear"></div>
            </div>
            <div class="clear"></div>
        </div>
    </div>
    {{/each}}
</script>

<script id="paginador-template" type="text/x-handlebars-template">
    <ul class="paginador_notificaciones" data-paginacion="block">

        <li class="productos_agregados_usuario">
            He agregado
            <span class="cantidad_productos_agregados"><b id="bPedidoPaginarRegistrosTotal" data-paginacion='recordCount'>{{RegistrosTotal}}</b></span>
            &nbsp;productos
        </li>
        <li class="seleccion_pagina">
            <select data-paginacion="rows" style="height: 24px;" data-val="{{PageSize}}">
                <option value="10">ver 10 filas</option>
                <option value="20">ver 20 filas</option>
                <option value="30">ver 30 filas</option>
                <option value="40">ver 40 filas</option>
                <option value="50">ver 50 filas</option>
            </select>
        </li>
        <li class="texto_pagina">Página</li>
        <li class="flecha_paginador_atras" data-paginacion="back"></li>
        <li style="margin-right: 6px;">
            <span class="paginas_pedidos">
                <span class="pagina_actual">
                    <input type="text" name="paginaactual" data-paginacion="page" value="{{Pagina}}" class="ValidaNumeral ValidaPasteNumeral" id="paginaactual" data-val="{{Pagina}}" />
                </span> de
                <span class="paginas_totales" id="spnPedidoPaginarPaginaDe" data-paginacion='pageCount'>{{PaginaDe}}</span>
            </span>
        </li>
        <li class="flecha_paginador_adelante" data-paginacion="next"></li>
    </ul>
    <div class="clear"></div>
</script>

<script id="producto-template" type="text/x-handlebars-template">
    {{#each this}}
    {{#if EliminadoTemporal}}
    {{else}}
    <div class="contenido_ingresoPedido mouse_encima" data-cuv="{{CUV}}">
        <div class="texto_pedidos celda_codigo">{{CUV}}</div>
        <div class="texto_pedidos celda_producto pedidoPadreToolTip" style="position:relative">
            <span class="texto_pedidos_ofertas">
                <label for="{{DescripcionOferta}}">{{DescripcionOferta}}</label>
            </span>

            {{#if_eq TipoPedido 'M'}}
            <span style="position:relative">
                <p class="productos_ingresados_movil">
                    <span class="icon-mobile"><img src="@Url.Content("~/Content/Images/mobile-pedido.png")" alt="Alternate Text" /></span>
                </p>
                <label for="{{DescripcionCortadaProd}}" class="lblLPDesProd">{{Split DescripcionCortadaProd '|' 0}}</label>
            </span>
            {{else}}
            <span style="position:relative">
                <label for="{{DescripcionCortadaProd}}" class="lblLPDesProd">{{Split DescripcionCortadaProd '|' 0}}</label>
            </span>
            {{/if_eq}}
            
            <div id="tooltipDescPro" class="tooltipPedido">
                {{Split DescripcionProd '|' 0}}
            </div>

            <input type="hidden" name="hdfFlagNueva{{PedidoID}}" value="{{FlagNueva}}" id="hdfFlagNueva{{PedidoID}}" class="hdfFlagNueva" />
            <input type="hidden" name="hdfCampaniaID{{PedidoID}}" value="{{CampaniaID}}" id="hdfCampaniaID{{PedidoID}}" class="hdfCampaniaID" />
            <input type="hidden" name="hdfPedidoId{{PedidoID}}" value="{{PedidoID}}" id="hdfPedidoId{{PedidoID}}" class="hdfPedidoId" />
            <input type="hidden" name="hdfPedidoDetalleID{{PedidoID}}" value="{{PedidoDetalleID}}" id="hdfPedidoDetalleID{{PedidoID}}" class="hdfPedidoDetalleID" />
            <input type="hidden" name="hdfTipoOfertaSisID{{PedidoID}}" value="{{TipoOfertaSisID}}" id="hdfTipoOfertaSisID{{PedidoID}}" class="hdfTipoOfertaSisID" />
            <input type="hidden" name="hdfCUV{{PedidoID}}" value="{{CUV}}" id="hdfCUV{{PedidoID}}" class="hdfCUV" />
            <input type="hidden" name="txtLPTempCant{{PedidoDetalleID}}" value="{{Cantidad}}" class="txtLPTempCant" />
        </div>
        <div class="celda_cantidad_pedidos">
            <div data-SetID="{{SetID}}"></div>
            {{#if EsKitNueva}}
            <div class="texto_pedidos" style="text-align:center; margin: 0;padding:0;">{{Cantidad}}</div>
            {{else if FlagNueva}}
            <div class="texto_pedidos" style="text-align:center; margin: 0;padding:0;">{{Cantidad}}</div>
            {{else}}
            <div class="liquidacion_rango_wrapper_pedido cantidad_detalle_focus" data-cantidad-contenedor="">
                <input type="text" value="{{Cantidad}}" size="2" maxlength="2" class="liquidacion_rango_cantidad_pedido ValidaNumeral ValidaPasteNumeral txtLPCant"
                               data-input="cantidad" data-pedido="{{PedidoDetalleID}}" data-SetID="{{SetID}}" 
                               @*onkeypress="PreValidarCUV(event);"*@
                               attrKey="PreValidarCUV"
                               onfocus="SeleccionarContenido(this)"
                               onblur="UpdateLiquidacion(event, '{{CampaniaID}}', '{{PedidoID}}', '{{PedidoDetalleID}}', '{{TipoOfertaSisID}}', '{{CUV}}', '1', '{{Cantidad}}', '{{SetID}}', {{EnRangoProgNuevas}})" />
                <div class="liquidacion_rango_right_pedido">
                    <a class="mas" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)"><img src="@Url.Content("~/Content/Images/Esika/mas.png")" alt="" /></a>
                    <a class="menos" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)"><img src="@Url.Content("~/Content/Images/Esika/menos.png")" alt="" /></a>
                </div>
            </div>
            {{/if}}
        </div>
        <div class="texto_pedidos precioUnitario">
            <input type="hidden" name="hdfLPPrecioU{{PedidoDetalleID}}" value="{{PrecioUnidad}}" class="classPrecioUnidad hdfLPPrecioU" />
            {{SimboloMoneda}} {{FormatoPrecioUnidad}}
        </div>
        <div class="texto_pedidos subtotal">
            <span class="precio">
                {{SimboloMoneda}} {{FormatoPrecioUnidad}}
            </span>
            <span>
                {{SimboloMoneda}}
                <label for="item_ImporteTotal" class="classImporteTotal lblLPImpTotal">{{FormatoImporteTotal}}</label>
                {{#if EstadoSimplificacionCuv}}
                {{#if IndicadorOfertaCUV}}
                <input type="hidden" name="ExisteIndicadorOfertaCUV" class="ExisteIndicadorOfertaCUV" value="true" />
                <span class="icon-advertencia"></span>
                {{/if}}
                {{/if}}
            </span>
        </div>
        <div class="texto_pedidos clientePedido">
            {{#if EsKitNueva}}
            {{else}}
            <input type="hidden" name="hdfLPCliIni{{PedidoDetalleID}}" value="{{ClienteID}}" class="classClienteID hdfLPCliIni" />
            <input type="hidden" name="hdfLPCli{{PedidoDetalleID}}" value="{{ClienteID}}" class="classClienteID hdfLPCli" />
            <input type="hidden" name="hdfLPCliDes{{PedidoDetalleID}}" value="{{Nombre}}" class="classClienteID hdfLPCliDes" />
            <input type="hidden" name="hdfTest" value="{{Nombre}}" class="classClienteID hdfLPCliDes" />

            {{#if_eq ConfiguracionOfertaID '@Constantes.TipoOferta.Nueva'}}
            <input type="text" name="{{Nombre}}" value="{{Nombre}}" maxlength="50" class="classClienteNombre ValidaAlfanumerico txtLPCli"
                   readonly="readOnly" onkeydown="return false;" style="width:90%; padding:4px;" />
            {{else}}
            <input type="text" name="{{Nombre}}" value="{{Nombre}}" maxlength="50" class="classClienteNombre ValidaAlfanumerico txtLPCli"
                   onblur="BlurF(event, '{{CampaniaID}}', '{{PedidoID}}', '{{PedidoDetalleID}}', '2', '{{CUV}}', '{{EsBackOrder}}', '{{SetID}}')" style="width: 90%; padding: 4px;"
                   datapedido="{{PedidoDetalleID}}" />
            {{/if_eq}}
            {{/if}}
        </div>
        <div class="texto_pedidos celda_iconos_acciones">
            {{#if EsKitNueva}}
            <div class="info_copy">
                <input type="hidden" data-kit="true" />
                <img src="@Url.Content("~/Content/Images/Esika/info-copy.png")" alt="Alternate Text" class="info_copy" style="width: 19px; margin:0;" />
                <div class="tooltips tooltip_infoCopy_grid">
                    <div class="tooltip_flecha_grid"></div>
                    <h6>Kit de Inicio</h6>
                    <p>Gana desde el comienzo con las mejores herramientas para tu negocio: productos ganadores, demostradores, fichas de los TOP de @(Model.EsPais) y más.</p>
                    <p>*@Model.MensajeKitNuevas</p>
                </div>
            </div>
            {{else}}
            {{#iff DescripcionLarga 'Contains' '\''}}
            {{Replace DescripcionLarga '\'' ''}}
            {{/iff}}
                <a onclick="ValidDeletePedido('{{CampaniaID}}', '{{PedidoID}}', '{{PedidoDetalleID}}', '{{TipoOfertaSisID}}', '{{CUV}}', '{{Cantidad}}', '{{ClienteID_}}', '{{CUVReco}}', null, '{{SetID}}', {{EnRangoProgNuevas}});"
                    style="background-image: url('@Url.Content("~/Content/Images/Esika/tacho-copy.png")'); background-repeat:no-repeat; width: 17px; height: 22px; margin: 0 auto;" title="Eliminar"></a>

            {{/if}}
        </div>
        {{#if EsBackOrder}}
        {{#if AceptoBackOrder}}
        <div class="stock_content_aceptado">
            <div class="texto_stock" style="color:black;"><b>Te entregaremos el producto en la siguiente campaña.</b></div>
        </div>
        {{else}}

        <div class="stock_content">
            <div class="texto_stock" style="margin-top: 10PX;width:60%">@Constantes.BackOrder.mensajeBackOrderDestokp</div>
            <div class="text_stock" style="margin-top:10px;float:left;width:35%;margin-left:35px;">
                <a class="btn_no_stock" style="font-size:9px;float:left;margin-left:9px;" onclick="ValidDeletePedido('{{CampaniaID}}', '{{PedidoID}}', '{{PedidoDetalleID}}', '{{TipoOfertaSisID}}', '{{CUV}}', '{{Cantidad}}', '{{ClienteID_}}', '{{CUVReco}}', '{{EsBackOrder}}', '{{SetID}}', false);">NO, ELIMÍNALO</a>
                <a class="btn_si_stock" style="float:right;height:35px;line-height:39px;" onclick="AceptarBackOrder('{{CampaniaID}}', '{{PedidoID}}', '{{PedidoDetalleID}}', '{{ClienteID_}}');" href="javascript:;">¡SÍ, GRACIAS!</a>
            </div>
            <hr class="clear" />
        </div>

        {{/if}}
        {{/if}}
    </div>

    {{/if}}

    {{#IsNullOrEmpty Mensaje '!='}}
    <div class="fila_mensajeProductoAgotado">
        <div style="width:100%;">
            <div class="mensaje_productoAgotado">
                {{#iff TipoObservacion '!=' 0}}
                <p>{{{Replace Mensaje '¿Deseas aceptar el reemplazo?' ''}}}</p>
                {{else}}
                <p>{{{Mensaje}}}</p>
                {{/iff}}
            </div>
        </div>
    </div>
    {{/IsNullOrEmpty}}
    {{/each}}
</script>

@Html.Partial("~/Views/EstrategiaPersonalizada/template-producto-landing.cshtml")
@Html.Partial("~/Views/FichaProducto/template-ficha-producto.cshtml")

<script id="productos-faltantes-template" type="text/x-handlebars-template">
    <table>
        <tr>
            <th class="categoria_productoAgotado">Categoría</th>
            <th class="codigo_productoAgotado">Código</th>
            <th class="producto_productoAgotado">Producto</th>
            <th class="catalogo_productoAgotado">Catálogo o Revista</th>
            <th class="pagina_productoAgotado">Página</th>
        </tr>
        <tr>
            <td colspan="5" style="padding-right: 0;">
                <table style="max-height:308px; overflow-y: auto; display: block;">
                    {{#each this.Detalle}}
                    <tr>
                        <td class="categoria_productoAgotado">{{Categoria}}</td>
                        <td class="codigo_productoAgotado">{{CUV}}</td>
                        <td class="producto_productoAgotado">{{Descripcion}}</td>
                        <td class="catalogo_productoAgotado">{{Catalogo}}</td>
                        <td class="pagina_productoAgotado text-right">{{NumeroPagina}}</td>
                    </tr>
                    {{/each}}
                </table>
            </td>
        </tr>
        <tr id="tfoot">
            <td colspan="5" style="text-align: right;"> No se encontró información</td>
        </tr>
    </table>
</script>

<script id="ofertaFinal-template" type="text/x-handlebars-template">

    <div class="content_regalo_sorpresa" id="container-of-regalo" data-popup-body="" style="display: none; background-image: url('/Content/Images/PL20/Banner_desktop.png');">
        <div class="icono_regalo_sorpresa">
            <img src="/Content/Images/gif-regalo-gano.gif" alt="">
        </div>
        <div class="txt_regalo_sorpresa_popup box_regalo_sorpresa_popup">
            <span class="span_1_regalo_sorpresa_popup" id="of-regalo-msg1">FELICIDADES @ViewBag.NombreConsultora<br></span>
            <span class="span_1_regalo_sorpresa_popup" id="of-regalo-msg2">TE FALTAN $119.00<br></span>
            <span class="span_2_regalo_sorpresa_popup" id="of-regalo-msg3">¡ESCOGE TU PREMIO!<br></span>
        </div>
        <div class="arrow_box" id="content-regalo-agrega" style="display:none;">
            <div class="txt_regalo_sorpresa_popup">
                <div class="span_2_regalo_sorpresa_producto"><b>TE FALTA <span data-regalo-agrega="">$119.00</span></b><br></div>
                <div class="span_1_regalo_sorpresa_producto">PARA TU META DE <span id="of-regalo-montometa">$300.00</span></div>
            </div>
        </div>
        <div class="slider center" id="divCarruselRegalo" style="width: 100%; margin: 0 auto 0 auto;">
            {{#each this.Upselling.Regalos}}
            <div class="content_item_carrusel_ofertaFinal" data-item="ofertaFinalRegalo" data-id="{{UpSellingRegaloId}}">
                <div class="content_info_regalo" id="of-regalo-{{UpSellingRegaloId}}">
                    <input type="hidden" class="of-regalo-cuv" value="{{CUV}}" />
                    <input type="hidden" class="of-regalo-stock" value="{{StockActual}}" />
                    <div class="titulo_regalo_producto">{{Nombre}}</div>
                    <div class="content_imagen_sorpresa">
                        <img class="of-regalo-imagen" src="{{Imagen}}" alt="" />
                    </div>
                    <div class="descripcion_regalo">
                        {{Descripcion}}
                    </div>
                    <div>
                        <input class="boton_quiero_este_premio" type="button" data-agregar-regalo="" value="QUIERO ESTE PREMIO" onclick="InsertUpSellingRegalo('{{UpSellingRegaloId}}','{{CUV}}')" />
                    </div>

                    {{#iff StockActual '<=' '0'}}
                    <div class="content_regalo_sinstock" data-regalo-sinstock="">
                        <div class="txt_agotado">AGOTADO</div>
                    </div>
                    {{/iff}}
                </div>
            </div>
            {{/each}}
        </div>
        <div class="txt_paginacion_premio" id="txt_paginacion_premio_gana">
            <span class="span_paginacion_premio_1" id="of-regalo-actual">1</span>
            <span> / </span><span id="of-regalo-total">3</span>
        </div>
        <div class="txt_nota_premio" data-regalo-recuerda="">Recuerda <b>pasar pedido en la siguiente<br />campaña</b> para recibir tu premio</div>
        <a class="btn_legal_RS" target="_blank" href="@ViewBag.UrlTerminosOfertaFinalRegalo" id="of-regalo-terminos">*Descargar términos y condiciones</a>
    </div>

    <div id="divGanoRegalo" class="content_regalo_sorpresa" data-popup-body="" style="display: none; background-image: url('/Content/Images/PL20/Banner_desktop.png');">
        <div class="btn_regresa_OF" id="btnCambiarRegalo1">
            <img class="img_regresa_OF" img="" src="/Content/Images/Esika/regresar.png" alt="">
            <span class="span_regresa_OF">CAMBIAR REGALO</span>
        </div>
        <div class="icono_regalo_sorpresa" style="margin-top: 22px;">
            <img src="/Content/Images/gif-regalo-gano.gif" alt="">
        </div>
        <div class="txt_regalo_sorpresa_popup box_regalo_sorpresa_popup">
            <span class="span_1_regalo_ganaste_popup" id="of-gano-msg1">¡GANASTE @ViewBag.NombreConsultora!<br></span>
            <span class="span_2_regalo_ganaste_popup" id="of-gano-msg3">SUPERASTE TU META, ORDENANDO <span id="of-regalo-montometa-msg3">$300.00</span><br></span>
        </div>
        <div class="arrow_box arrow_box_2">
            <div class="txt_regalo_sorpresa_popup">
                <div class="span_2_regalo_ganaste_producto" id="of-regalo-estuyo"><b>SOLO RECUERDA</b><br></div>
                <div class="span_1_regalo_ganaste_producto" data-regalo-recuerda="">Pasar pedido en la siguiente<br>campaña para recibir tu premio*</div>
            </div>
        </div>
        <div class="content_info_regalo">
            <div class="titulo_regalo_producto" id="of-regalo-descripcion">Bicicleta Rockrider 340 Azul</div>
            <div class="content_imagen_sorpresa">
                <img id="of-regalo-imagen" src="https://image.prntscr.com/image/jehvsnsYSyS4klODMOPo5w.png" alt="" />
            </div>
            <div class="descripcion_regalo" id="of-regalo-descripcion-larga">
                Pedalier de acero con triple plato, con protección de plástico de color azul. Tamaño 80cm x 120cm.
            </div>
        </div>
        <a class="btn_legal_RS" target="_blank" href="@ViewBag.UrlTerminosOfertaFinalRegalo" id="of-regalo-terminos">*Descargar términos y condiciones</a>
    </div>

    <div class="popup_ofertaFinal pt-26" data-meta="{{TipoMeta}}" data-meta-total="{{TotalPedido}}" data-popup-body="" id="div-popup-ofertafinal">
        <div class="numero_pedido mt-0 mb-21" id="div-numero-pedido" style="display: none;">
            <div class="numero_pedido_fondo">
                <img id="img-numero-pedido-fondo" src="/Content/Images/popup_pedido/numero_pedido_site_bg.png">
                <div class="content-texto-numero-pedido" id="msg-numero-pedido" style="padding-top: 15px;">
                    <span class="numero_pd" id="numero-pd">1</span>
                    <span class="posicion_pd" id="posicion-pd">ER.</span>
                    <span class="texto_pd" id="texto-pd">PEDIDO</span>
                </div>
            </div>
            <div style="clear:both;"></div>
        </div>
        <div class="btn_cerrar_ofertaFinal">
            <a href="javascript:;" title="Cerrar" data-popup-close="divOfertaFinal" onclick="of_google_analytics_cerrar_popup();">
                <img src="@Url.Content("~/Content/Images/btn_cerrar_popup.svg")" alt="Cerrar" />
                <span class="texto_btn_cerrar">CERRAR</span>
            </a>
        </div>
        <div class="contenido_popUp">
            <div class="content_texto_oferta mb-0">
                <div class="icono_mensaje_alerta {{ofIconoSuperior}} tamanioIcono" id="ofIconoSuperior"></div>

                <div>
                    <h1 class="titulo_ofertaFinal mb-13" id="spnTituloOfertaFinal">
                        {{#if_eq TipoMeta 'MM'}}
                        <span><b>AÚN TE FALTA {{SimboloMoneda}} <span data-monto="">{{MetaMontoStr}}</span> PARA LLEGAR AL MONTO MÍNIMO</b></span>
                        {{else if_eq TipoMeta 'GM'}}
                        <span>¡GUARDASTE TU<b> PEDIDO CON ÉXITO</b>!</span>
                        {{else}}
                        <span>¡GUARDASTE TU<b> PEDIDO CON ÉXITO</b>!</span>
                        {{/if_eq}}
                    </h1>
                    <hr class="clear" />
                    <div class="descripcion_ofertaFinal mb-0" id="msjOfertaFinal" data-meta-porcentaje="{{MetaPorcentaje}}" data-meta-monto="{{MontoMeta}}">
                        {{#if_eq TipoMeta 'MM'}}
                        <span>TE AYUDAMOS A ALCANZARLO CON ESTAS OFERTAS</span>
                        {{else if_eq TipoMeta 'GM'}}
                        {{#iff Cross '==' '1'}}
                        <span>APROVECHA ESTAS OFERTAS Y <b>GANA MÁS</b> SUMANDO LOS COMPLEMENTOS DE TU PEDIDO</span>
                        {{else}}
                        <span>APROVECHA ESTAS OFERTAS Y <b>GANA MÁS</b> ESTA CAMPAÑA</span>
                        {{/iff}}
                        {{else if_eq TipoMeta 'RG'}}
                        <span>@ViewBag.NombreConsultora, APROVECHA ESTAS OFERTAS Y <b>GANA PREMIOS INCREÍBLES</b></span>
                        {{else}}
                        <span>ALCANZA EL <b style="font-size:23px;">{{MetaPorcentaje}}%</b> DSCTO AGREGANDO {{SimboloMoneda}} <span data-monto="">{{MetaMontoStr}}</span> DE ESTAS OFERTAS</span>
                        {{/if_eq}}
                    </div>
                </div>

                <div class="content_producto_alternativo" id="div-regalo-pn" style="display: none;">
                    <div class="content-texto-producto-alternativo" id="msg-regalo-pn" style="padding-top: 15px;">ALCÁNZALO CON ESTAS OFERTAS Y <b>GANA UN ÉSIKA MAGNAT 90ML*</b>, PUEDES VENDERLO A S/.99.00</div>
                    <div class="content_imagen_alternativo" style="display: none;">
                        <img id="img-regalo-pn" src="@Globals.RutaCdn/Matriz/PE/PE_2000111962017530330_cjzkqorxhx.png">
                    </div>
                </div>
            </div>
            <div class="contenedor_bloques_agregaProductos">
                <div class="descripcion_cant_sets_productos_ofertaFinal" id="div-count-ofertas" style="display: none;">
                    Aquí encontrarás los <span id="count-ofertas">12</span> mejores sets para ganar tu premio.
                </div>
                <div style="margin: 0 auto; width:90%;" class="bloque_carousel">
                    <div style="margin-left: 27px; margin-right: 27px; position: relative;">
                        <div class="slider center" id="divCarruselOfertaFinal" style="width: 100%;">

                            {{#each this.Detalle}}
                            <div class="content_item_carrusel_ofertaFinal" data-item="ofertaFinal" data-id="{{ID}}">
                                <div style="display: none;">
                                    <input type="hidden" class="hdOfertaFinalCuv" value="{{CUV}}" />
                                    <input type="hidden" class="hdOfertaFinalTipoOfertaSisID" value="{{TipoOfertaSisID}}" />
                                    <input type="hidden" class="hdOfertaFinalConfiguracionOfertaID" value="{{ConfiguracionOfertaID}}" />
                                    <input type="hidden" class="hdOfertaFinalIndicadorMontoMinimo" value="{{IndicadorMontoMinimo}}" />
                                    <input type="hidden" class="hdOfertaFinalTipo" value="1" />
                                    <input type="hidden" class="hdOfertaFinalMarcaID" value="{{MarcaID}}" />
                                    <input type="hidden" class="hdOfertaFinalPrecioUnidad" value="{{PrecioCatalogo}}" />
                                    <input type="hidden" class="hdOfertaFinalDescripcionProd" value="{{Descripcion}}" />
                                    <input type="hidden" class="hdOfertaFinalNombreComercial" value="{{NombreComercial}}" />
                                    <input type="hidden" class="hdOfertaFinalVolumen" value="{{Volumen}}" />
                                    <input type="hidden" class="hdOfertaFinalPagina" value="0" />
                                    <input type="hidden" class="hdOfertaFinalDescripcionCategoria" value="{{DescripcionCategoria}}" />
                                    <input type="hidden" class="hdOfertaFinalDescripcionMarca" value="{{DescripcionMarca}}" />
                                    <input type="hidden" class="hdOfertaFinalDescripcionEstrategia" value="{{DescripcionEstrategia}}" />
                                    <input type="hidden" class="hdOfertaFinalPrecioValorizado" value="{{PrecioValorizado}}" />
                                    <input type="hidden" class="hdOfertaFinalPrecioCatalogo" value="{{PrecioCatalogo}}" />
                                    <input type="hidden" class="hdOfertaFinalImagenProductoSugerido" value="{{ImagenProductoSugerido}}" />
                                    <input type="hidden" class="hdOfertaFinalImagenProductoSugeridoMedium" value="{{ImagenProductoSugerido}}" />
                                    <input type="hidden" class="hdOfertaFinalPrecioValorizadoString" value="{{PrecioValorizadoString}}" />
                                    <input type="hidden" class="hdOfertaFinalPrecioCatalogoString" value="{{PrecioCatalogoString}}" />
                                    <input type="hidden" class="hdOfertaFinalDescripcionComercial" value="{{DescripcionComercial}}" />
                                    <input type="hidden" class="hdOfertaFinalDescripcionRelacionado" value="{{CUVPedidoNombre}}" />
                                    <input type="hidden" class="hdOfertaFinalCUVPedidoImagen" value="{{CUVPedidoImagen}}" />
                                    <input type="hidden" class="hdTipoMeta" value="{{TipoMeta}}" />
                                    <input type="hidden" class="hdOfertaFinalID" value="{{ID}}" />
                                    <input type="hidden" class="hdOfertaFinalTipoMeta" value="{{TipoMeta}}" />
                                    <input type="hidden" class="hdOfertaFinalTipoEstrategiaID" value="{{TipoEstrategiaID}}" />

                                </div>
                                <div class="contenido_item_carrusel_ofertaFinal">
                                    <div class="nohely producto_img_home" style="height:115px;" data-tooltip-text="{{CUVPedidoNombre}}" data-verdetalle="" onclick="javascript:CargarVerDetalleOF(this, event);">
                                        <img src="{{ImagenProductoSugerido}}" style="height: 100%;" data-tooltip-text="{{CUVPedidoNombre}}">
                                        <a class="ver_detalle_carrusel" style="bottom:23px;" onclick="of_google_analytics_product_click('desktop',{{ID}},'{{TipoMeta}}')">VER DETALLE</a>
                                    </div>
                                    <div class="producto_nombre_descripcion pb-16">
                                        <div onclick="javascript:CargarVerDetalleOF(this, event);">
                                            <h6>{{DescripcionMarca}}</h6>
                                            <p class="nombre_producto">
                                                <b>{{NombreComercialCorto}}</b>
                                            </p>
                                        </div>
                                        <div class="producto_precio">
                                            {{#iff PrecioValorizado '>' '0'}}
                                            <span class="producto_precio_normal">{{SimboloMoneda}} {{PrecioValorizadoString}}</span>
                                            {{/iff}}
                                            <span class="producto_precio_oferta"><b>{{SimboloMoneda}} {{PrecioCatalogoString}}</b></span>
                                        </div>
                                        <div class="liquidacion_rango_home" data-cantidad-contenedor="">
                                            <input type="text" value="1" size="2" maxlength="2" class="liquidacion_rango_cantidad_pedido ValidaNumeral ValidaPasteNumeral" data-input="cantidad">
                                            <div class="liquidacion_rango_right_pedido">
                                                <a class="mas" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)"><img src="/Content/Images/Esika/mas.png" alt=""></a>
                                                <a class="menos" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)"><img src="/Content/Images/Esika/menos.png" alt=""></a>
                                            </div>
                                        </div>
                                        <a class="boton_Agregalo_home agregarOfertaFinal" data-OrigenPedidoWeb="@Constantes.OrigenPedidoWeb.DesktopPedidoOfertaFinalCarrusel" onclick="of_google_analytics_addtocar('desktop','list',{{ID}},'{{TipoMeta}}')">
                                            AGRÉGALO
                                        </a>
                                        <div class="clear"></div>
                                        <div class="content_carrusel_agregado" style="padding-top:9px; height: 15px;">
                                            <div class="agregado product-add" style="text-align:right;display:none;">
                                                AGREGADO
                                                <div class="icono"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {{/each}}

                        </div>
                    </div>
                </div>
                <div style="display: block; position: relative;">
                    <div class="contenedor_boton_reservarPedido">
                        <a id="btnNoGraciasOfertaFinal" name="btn_noGracias_agregarProductos" class="btn_noGracias_agregarProductos btnNoGraciasOfertaFinal icono_terminar_pedido"
                           style="display:{{#iff TipoMeta '==' 'MM'}}none;{{else}}block;{{/iff}}" onclick="of_google_analytics_cerrar_popup()">
                            RESERVA TU PEDIDO
                        </a>
                    </div>
                    <div id="txt-disclaimer-pn" class="txt-ayuda1-pn" style="display: none;">
                        *En caso tu pedido no tenga observaciones y supere el monto mínimo.
                    </div>
                </div>
                <hr class="clear" />
            </div>
            <div class="bloque_detalle_gris"></div>
        </div>
    </div>

</script>

<script id="ofertaFinalVerDetalle-template" type="text/x-handlebars-template">
    <div class="popup_ofertaFinal" style="padding:35px; display:block;" data-item="{{ID}}">
        <div data-compartir-campos="" style="display:none;">
            <input type="hidden" class="CUV" value="{{CUV}}" />
            <input type="hidden" class="rsFBMensaje" value="" />
            <input type="hidden" class="rsWAMensaje" value="" />
            <input type="hidden" class="rsFBRutaImagen" value="{{ImagenProductoSugerido}}" />
            <input type="hidden" class="rsWARutaImagen" value="{{ImagenProductoSugerido}}" />
            <input type="hidden" class="MarcaID" value="{{MarcaID}}" />
            <input type="hidden" class="MarcaNombre" value="{{DescripcionMarca}}" />
            <input type="hidden" class="Nombre" value="{{Descripcion}}" />
            <input type="hidden" class="ProductoDescripcion" value="{{DescripcionComercial}}" />
            <input type="hidden" class="Volumen" value="{{Volumen}}" />
            <input type="hidden" class="Palanca" value="OF" />
            <input type="hidden" class="PrecioValorizado" value="{{PrecioValorizado}}" />
            <input type="hidden" class="PrecioValorizadoString" value="{{PrecioValorizadoString}}" />
            <input type="hidden" class="PrecioCatalogoString" value="{{PrecioCatalogoString}}" />
            <input type="hidden" class="DescripcionEstrategia" value="{{DescripcionEstrategia}}" />
            <input type="hidden" class="ID" value="{{ID}}" />
            <input type="hidden" class="TipoMeta" value="{{TipoMeta}}" />
            <input type="hidden" class="hdOfertaFinalTipoEstrategiaID" value="{{TipoEstrategiaID}}" />
        </div>
        <a class="btn_cerrar_escala" href="javascript:;" onclick="javascript: $('#contenedor_popup_ofertaFinalVerDetalle').hide();">REGRESAR</a>
        <hr class="clear" />
        <div class="content_left_ficha">
            <div class="content_ficha_producto" style="width:72%; height:auto; margin:0 auto;">
                <img id="fav_imagen_prod" class="imagen_producto" src="{{ImagenProductoSugerido}}" alt="PRODUCTO">
            </div>
            <div class="compartir_redes_ficha">
                <div class="texto_compartelo">Compártelo con tus clientes</div>
                <a class="btn_compartir_facebook_ficha" href="javascript: void(0);" data-compartir="FB">
                    <img src="@Url.Content("~/Content/Images/Mobile/Esika/facebook.png")" width="19" height="18" />
                </a>
                <hr class="clear" />
            </div>
        </div>
        <div class="content_right_ficha">
            <div style="height:130px;">
                <div class="marca_ficha_producto">{{DescripcionMarca}}</div>
                <div class="titulo_ficha_producto">{{NombreComercial}}</div>
                <div class="peso_ficha_producto">{{Volumen}}</div>
                <div class="descripcion_ficha_producto">{{DescripcionComercial}}</div>
                <div class="precio_ficha_producto">
                    {{#iff PrecioValorizado '>' 0}}
                    <span class="precio_tachado_ficha">{{SimboloMoneda}} {{PrecioValorizadoString}}</span>
                    {{/iff}}
                    {{SimboloMoneda}} {{PrecioCatalogoString}}
                </div>
            </div>
            {{#iff DescripcionRelacionado '!=' ''}}
            <div style="height:196px;">
                <div class="opcion_escala_descuento">
                    <div class="texto_producto_relacionado">
                        Cómpralo porque ya tienes <b>{{DescripcionRelacionado}}</b> en tu pedido
                    </div>
                    <div class="imagen_relacionada">
                        <img src="{{CUVPedidoImagen}}" alt="PRODUCTO">
                    </div>
                    <hr class="clear" />
                </div>
            </div>
            {{/iff}}
            <div class="liquidacion_rango_home" data-cantidad-contenedor="">
                <input type="text" value="1" size="2" maxlength="2" class="liquidacion_rango_cantidad_pedido ValidaNumeral ValidaPasteNumeral" data-input="cantidad" data-cantidad-input="-">
                <div class="liquidacion_rango_right_pedido">
                    <a class="mas" onclick="javascript:EstrategiaAgregarModule.AdicionarCantidad(event)" data-cantidad-agregar="+"><img src="/Content/Images/Esika/mas.png" alt=""></a>
                    <a class="menos" onclick="javascript:EstrategiaAgregarModule.DisminuirCantidad(event)" data-cantidad-agregar="-"><img src="/Content/Images/Esika/menos.png" alt=""></a>
                </div>
            </div>
            <a class="boton_Agregalo_home ficha_btn_agregar agregarOfertaFinalVerDetalle" data-OrigenPedidoWeb="@Constantes.OrigenPedidoWeb.DesktopPedidoOfertaFinalFicha" data-popup-verdetalle="{{id}}" style="width:238px;"
               onclick="of_google_analytics_addtocar('desktop','detail',{{ID}},'{{TipoMeta}}')">
                AGRÉGALO
            </a>
        </div>
        <hr class="clear" />
    </div>

</script>

@section scripts{
    <script type="text/javascript">
        var arregloProductos;
        var cantProductosLoad = '@Model.ListaEstrategias.Count';
        var constConfiguracionOfertaLiquidacion = '@Constantes.ConfiguracionOferta.Liquidacion';
        var constConfiguracionOfertaAccesorizate = '@Constantes.ConfiguracionOferta.Accesorizate';
        var viewBagPaisID = '@Model.PaisID';
        var viewBagNombrePais = '@ViewBag.NombrePais';
        var isShown = false;
        var urlLoad = '@Url.Content("~/Content/Images/Loading.gif")';
        var urlEsikaMenos = '@Url.Content("~/Content/Images/Esika/menos.png")';
        var urlEsikaMas = '@Url.Content("~/Content/Images/Esika/mas.png")';
        var heightReference = 0;
        var constTipoOfertaLiquidacion = '@Constantes.TipoOferta.Liquidacion';
        var constTipoOfertaFlexipago = '@Constantes.TipoOferta.Flexipago';
        var urlIconoMobile = '@Url.Content("~/Content/Images/mobile-pedido.png")';
        var viewBagMenuNotificaciones = '@ViewBag.MenuNotificaciones';
        var alertaSugerido = '@Url.Content("~/Content/Images/RevistaDigital/icono_advertencia_notificacion_esika.svg")';
        var urlImagenMicroEfecto = isEsika ? '@Url.Content("~/Content/Images/regalo_microefecto_esika.png")'
            : '@Url.Content("~/Content/Images/regalo_microefecto_lbel.png")';
        var dataBarra = {};
        var listaEscalaDescuento = {};
        var listaMensajeMeta;
        var listaParametriaOfertaFinal = {};
        var urlReservadoOEnHorarioRestringido = '@Url.Action("ReservadoOEnHorarioRestringido", "Pedido", new {area = ""})';
        var urlValidadoPedido = '@Url.Action("PedidoValidado", "Pedido", new {area = ""})';
        var constConfiguracionOfertaShowRoom = '@Constantes.ConfiguracionOferta.ShowRoom';
        var lanzarTabConsultoraOnline = '@ViewBag.LanzarTabConsultoraOnline';
        var urlMisPedidosClienteOnline = '@Url.Action("", "MisPedidos")';
        var indicadorFlexiPago = '@Model.IndicadorFlexiPago';
        var urlPedido = '@Url.Action("Index", "Pedido")';
        var cuvOfertaProl = '@ViewBag.CUVOfertaProl';
        if (isEsika) var mensajeCUVOfertaEspecial = '@Constantes.MensajeEstaEnRevista.EsikaWeb';
        else var mensajeCUVOfertaEspecial = '@Constantes.MensajeEstaEnRevista.LbelWeb';
        var origenPagina = 2;
        var tipoOrigenEstrategia = 11;
        var origenPedidoWebEstrategia = @Constantes.OrigenPedidoWeb.DesktopPedidoOfertasParaTiCarrusel;
        var origenPedidoWebFichaProducto = @Constantes.OrigenPedidoWeb.VirtualCoachDesktopPedido;
        var DesktopPedidoSugerido = @Constantes.OrigenPedidoWeb.DesktopPedidoProductoSugeridoCarrusel;
        var DesktopPedidoOfertaFinal = @Constantes.OrigenPedidoWeb.DesktopPedidoOfertaFinalCarrusel;
        var DesktopPedidoOfertaFinalFicha = @Constantes.OrigenPedidoWeb.DesktopPedidoOfertaFinalFicha;
        var mobileDevice = false;
        var indicadorGPRSB = '@Model.IndicadorGPRSB';
        var viewBagCampaniaActual = '@Model.CampaniaActual';
        var tieneCupon = '@Model.TieneCupon';
        var paginaOrigenCupon = 11;
        var esEmailActivo = '@Model.EmailActivo';
        var baseUrl = "@Url.Content("~")";
        var paisISO = '@ViewBag.paisISO';
        var viewBagAmbiente = '@ViewBag.Ambiente';
        var correo = '@Model.EMail';
        var celular = '@Model.Celular';
        var consultoraRegaloPN = '@ViewBag.ConsultoraTieneRegaloPN';
        var urlOfertaDetalleProductoTem = '@Url.Action("GuardarProductoTemporal", "Estrategia", new { area = "" })';
        var viewBagCondigoConsultora = '@ViewBag.CodigoConsultora';
        var ofertaFinalEstado = '@ViewBag.OfertaFinalEstado';
        var ofertaFinalAlgoritmo = '@ViewBag.OfertaFinalAlgoritmo';
        var VirtualCoachCuv = '@ViewBag.VirtualCoachCuv';
        var VirtualCoachCampana = '@ViewBag.VirtualCoachCampana' || 0;

        var seccionMisOfertas = '@Constantes.SeccionBienvenida.MisOfertas';
        var OrigenDesktopODD = 2;
        var mensajePedidoVacio = '@Constantes.MensajesError.Reserva_SinDetalle';
        var mensajeErrorReserva = '@Constantes.MensajesError.Pedido_Reserva';
        var mensajeSinConexionReserva = '@Constantes.MensajesError.SinConexion_Reserva';
        var mensajeSinConexionGenerico = '@Constantes.MensajesError.SinConexion';
        var urlInsertarDemandaTotalReemplazoSugerido = '@Url.Action("InsertarDemandaTotalReemplazoSugerido", "Pedido")';
        var urlEsPedidoDetalleElecMultiple = '@Url.Action("EsPedidoDetalleElecMultiple", "Pedido")';
    </script>
    @System.Web.Optimization.Scripts.Render("~/Bundle/Js/Desktop/SB2-Pedido")
    @if (HttpContext.Current.Request.Browser.IsMobileDevice)
    {
        <script>
            mobileDevice = true;
        </script>
    }
    @if (ViewBag.MostrarPedidosPendientes == "1")
    {
        <script type="text/javascript" src="@Url.Content("~/Scripts/PortalConsultoras/Pedido/ConsultoraOnline.js")"></script>
    }
    <script type="text/javascript" src="@Url.Content("~/Scripts/PortalConsultoras/FichaProducto/Index.js")"></script>
} 